TABLA USUARIO

create store procedure sp_eliminarUsr
(
	v_email_usr nvarchar,
	v_contr_usr nvarchar
)
as
begin
	delete Usuario from Usuario where email_usr = v_email_usr and contr_usr = v_contr_usr
end



create store procedure sp_listarUsr

as
begin
	select email_usr, contr_usr, nom_usr, appat_usr, apmat_usr, cel_usr, tipo_usr
	order appat_usr asc
end	



create store procedure sp_agregarUsr
(
	v_email_usr nvarchar,
	v_contr_usr nvarchar,
	v_nom_usr nvarchar,
	v_appat_usr nvarchar,
	v_apmat_usr nvarchar,
	v_cel_usr number,
	v_tipo_usr nvarchar
)
as
begin
	insert into Usuario values
	(
	v_email_usr nvarchar,
	v_contr_usr nvarchar,
	v_nom_usr nvarchar,
	v_appat_usr nvarchar,
	v_apmat_usr nvarchar,
	v_cel_usr number,
	v_tipo_usr nvarchar
	)
end



create store procedure sp_modificarUsr
(
	v_email_usr nvarchar,
	v_contr_usr nvarchar,
	v_nom_usr nvarchar,
	v_appat_usr nvarchar,
	v_apmat_usr nvarchar,
	v_cel_usr number,
	v_tipo_usr nvarchar
)
as
begin
	update Usuario set contr_usr = v_contr_usr, nom_usr = v_nom_usr, appat_usr = v_appat_usr, apmat_usr = v_apmat_usr, cel_usr = v_cel_usr, tipo_usr = v_tipo_usr
	where email_usr = v_email_usr
	
end

---------------------------------------------------------------------------

TABLA CHECK IN

create store procedure sp_listarCheckin

as
begin
	select v_deta_chi
	order v_deta_chi asc
end	



create store procedure sp_agregarCheckin
(
	v_deta_chi nvarchar,
	
)
as
begin
	insert into Checkin values
	(
	id_chi.nextval,
	v_deta_chi nvarchar
	)
end



create store procedure sp_modificarCheckin
(
	v_id_chi number,
	v_deta_chi nvarchar
	
)
as
begin
	update Checkin set deta_chi = v_deta_chi
	where id_chi = v_id_chi
	
end

---------------------------------------------------------------------------

TABLA CHECK OUT

create store procedure sp_listarCheckout

as
begin
	select v_cost_multa, v_deta_cho
	order v_deta_chi asc
end	



create store procedure sp_agregarCheckout
(
	v_cost_multa number,
	v_deta_cho nvarchar,
	
)
as
begin
	insert into Checkout values
	(
	v_id_cho.nextval,
	v_cost_multa number,
	v_deta_chi nvarchar
	)
end



create store procedure sp_modificarCheckout
(
	v_cost_multa number,
	v_deta_cho nvarchar
	
)
as
begin
	update Checkout set costo_multa = v_costo_multa , deta_chi = v_deta_cho
	where id_cho = v_id_cho
	
end

---------------------------------------------------------------------------

TABLA CLIENTE

create store procedure sp_eliminarCli
(
	v_rut_cli number,
	v_dv_cli nvarchar
)
as
begin
	delete Cliente from Cliente where rut_cli = v_rut_cli and dv_cli = v_dv_cli
end



create store procedure sp_listarCli

as
begin
	select v_rut_cli, v_dv_cli, v_nom_cli, v_appat_cli, v_apmat_cli, v_email_cli, v_cel_cli, v_tipo_usr
	order v_rut_cli asc
end	



create store procedure sp_agregarCli
(
	v_rut_cli number,
	v_dv_cli nvarchar,
	v_nom_cli nvarchar,
	v_appat_cli nvarchar,
	v_apmat_cli nvarchar,
	v_email_cli nvarchar,
	v_cel_usr number,
	v_tipo_usr nvarchar
)
as
begin
	insert into Cliente values
	(
	v_rut_cli number,
	v_dv_cli nvarchar,
	v_nom_cli nvarchar,
	v_appat_cli nvarchar,
	v_apmat_cli nvarchar,
	v_email_cli nvarchar,
	v_cel_cli number,
	v_tipo_cli nvarchar
	)
end



create store procedure sp_modificarCli
(
	v_rut_cli number,
	v_nom_cli nvarchar,
	v_appat_cli nvarchar,
	v_apmat_cli nvarchar,
	v_email_cli nvarchar,
	v_cel_cli number,
	v_tipo_cli nvarchar
)
as
begin
	update Cliente set nom_cli = v_nom_cli, appat_cli = v_appat_cli, apmat_cli = v_apmat_cli, email_cli = v_email_cli, cel_cli = v_cel_cli, tipo_cli = v_tipo_cli
	where rut_cli = v_rut_cli 
	
end

---------------------------------------------------------------------------

TABLA TRANSPORTE

create store procedure sp_eliminarTransporte
(
	v_id_serv number
)
as
begin
	delete Transporte from Transporte where id_serv = v_id_serv
end



create store procedure sp_listarTransporte

as
begin
	select v_max_pas, v_asiento_nigno, v_per_silla
	order v_max_pas asc
end	



create store procedure sp_agregarTransporte
(
	v_max_pas number,
	v_asiento_nigno char,
	v_per_silla char
)
as
begin
	insert into Transporte values
	(
	v_id_serv.nextval,
	v_max_pas number,
	v_asiento_nigno char,
	v_per_silla char
	)
end


create store procedure sp_modificarTransporte
(
	v_id_serv number,
	v_max_pas number,
	v_asiento_nigno char,
	v_per_silla char
)
as
begin
	update Transporte set max_pas = v_max_pas, asiento_nigno = v_asiento_nigno, per_silla = v_per_silla
	where id_serv = v_id_serv
	
end

---------------------------------------------------------------------------

TABLA TOUR

create store procedure sp_eliminarTour
(
	v_id_serv number
)
as
begin
	delete Tour from Tour where id_serv = v_id_serv
end



create store procedure sp_listarTour

as
begin
	select v_lugar_destino, v_lugar_recogida, v_hora_acor
	order v_lugar_destino asc
end	



create store procedure sp_agregarTour
(
	
	v_lugar_destino number,
	v_lugar_recogida char,
	v_hora_acor char
)
as
begin
	insert into Tour values
	(
	v_id_serv.nextval,
	v_lugar_destino nvarchar,
	v_lugar_recogida nvarchar,
	v_hora_acor date
	)
end



create store procedure sp_modificarTour
(
	v_id_serv,
	v_lugar_destino nvarchar,
	v_lugar_recogida nvarchar,
	v_hora_acor date
)
as
begin
	update Tour set lugar_destino = v_lugar_destino, lugar_recogida = v_lugar_recogida, hora_acor = v_hora_acor
	where id_serv = v_id_serv
	
end

---------------------------------------------------------------------------

TABLA GASTOS

create store procedure sp_eliminarGastos
(
	v_id_gastos number
)
as
begin
	delete Gastos from Gastos where id_gastos = v_id_gastos
end



create store procedure sp_listarGastos

as
begin
	select v_gast_mes, v_gast_agno
	order v_gast_agno asc
end	



create store procedure sp_agregarGastos
(
	
	v_gast_mes number,
	v_gast_agno number
)
as
begin
	insert into Tour values
	(
	v_id_gastos.nextval,
	v_gast_mes number,
	v_gast_agno number
	)
end



create store procedure sp_modificarGastos
(
	v_id_gastos,
	v_gast_mes number,
	v_gast_agno number
)
as
begin
	update Gastos set v_gast_mes = v_gast_mes, gast_agno = v_gast_agno
	where id_gastos = v_id_gastos
	
end

---------------------------------------------------------------------------

TABLA DISPONIBILIDAD

create store procedure sp_listarDisponibilidad

as
begin
	select v_fec_disp, v_esta_disp
	order v_esta_disp asc
end	



create store procedure sp_agregarDisponibilidad
(
	
	v_fec_disp date,
	v_esta_disp char
)
as
begin
	insert into Disponibilidad values
	(
	v_fec_disp date,
	v_esta_disp char
	)
end



create store procedure sp_modificarDisponibilidad
(
	v_fec_disp date,
	v_esta_disp char
)
as
begin
	update Disponibilidad set esta_disp = v_esta_disp
	where fec_disp = v_fec_disp
	
end

---------------------------------------------------------------------------

TABLA MANTENCION

create store procedure sp_eliminarMantencion
(
	v_id_mant number
)
as
begin
	delete Mantencion from Mantencion where id_mant = v_id_mant
end


create store procedure sp_listarMantencion

as
begin
	select v_cost_mant, v_deta_mant, v_fec_rmant
	from Mantencion m inner join res_mant r on m.v_id_rmant = b.v_id_rmant
end	


create store procedure sp_agregarMantencion
(
	
	v_cost_mant number,
	v_deta_mant nvarchar
)
as
begin
	insert into Mantencion values
	(
	v_id_mant.nextval,
	v_cost_mant number,
	v_deta_mant nvarchar
	)
end


create store procedure sp_modificarMantencion
(
	v_cost_mant number,
	v_deta_mant nvarchar
)
as
begin
	update Mantencion set esta_disp = v_esta_disp
	where id_mant = v_id_mant
	
end


---------------------------------------------------------------------------

TABLA RES_MANT

create store procedure sp_eliminarResMant
(
	v_id_rmant number
)
as
begin
	delete res_mant from res_mant where id_rmant = v_id_rmant
end


create store procedure sp_listaRestMant

as
begin
	select v_fec_rmant
	order v_fec_rmant asc
end	


create store procedure sp_agregarResMant
(
	
	v_fec_rmant date
)
as
begin
	insert into Res_mant values
	(
	v_id_rmant.nextval,
	v_fec_rmant date
	)
end


create store procedure sp_modificarResMant
(
	v_id_rmant,
	v_fec_rmant date
)
as
begin
	update Res_mant set fec_rmant = v_fec_rmant
	where id_rmant = v_id_rmant
	
end

---------------------------------------------------------------------------

TABLA ARTICULO

create store procedure sp_eliminarArticulo
(
	v_id_arti number
)
as
begin
	delete Articulo from Articulo where id_arti = v_id_arti
end


create store procedure sp_listaArticulo

as
begin
	select v_nom_arti, v_cant_arti, v_deta_arti, v_valor_arti
	order v_nom_arti asc
end	


create store procedure sp_agregarArticulo
(
	
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
)
as
begin
	insert into Articulo values
	(
	v_id_arti.nextval,
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
	)
end


create store procedure sp_modificarArticulo
(
	v_id_arti number,
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
)
as
begin
	update Articulo set nom_arti = v_nom_arti, cant_arti = v_cant_arti, deta_arti = v_deta_arti, valor_arti = v_valor_arti
	where id_arti = v_id_arti
	
end