TABLA AGENCIA_EXTERNA

create store procedure sp_eliminarAgenciaExterna
(
	v_id_agencia number
)
as
begin
	delete agencia_externa from agencia_externa where id_agencia = v_id_agencia
end

create store procedure sp_listaAgenciaExterna

as
begin
	select v_nom_age, v_email_age, v_tel_age
	order v_nom_arti asc
end	


create store procedure sp_agregarAgenciaExterna
(
	
	v_nom_age nvarchar,
	v_email_age nvarchar,
	v_tel_age number
)
as
begin
	insert into Agencia_externa values
	(
	v_id_age.nextval,
	v_nom_age nvarchar,
	v_email_age nvarchar,
	v_tel_age number
	)
end


create store procedure sp_modificarAgenciaExterna
(
	v_id_age number,
	v_nom_age nvarchar,
	v_email_age nvarchar,
	v_tel_age number
)
as
begin
	update Agencia_externa set nom_age = v_nom_age, email_age = v_email_age, tel_age = v_tel_age
	where id_age = v_id_age
	
end

---------------------------------------------------------------------------

TABLA ARTICULO

create store procedure sp_eliminarArticulo
(
	v_id_arti number
)
as
begin
	delete articulo from articulo where id_arti = v_id_arti
end


create store procedure sp_listaArticulo

as
begin
	select v_nom_arti, v_cant_arti, v_deta_arti, v_valor_arti
	order v_nom_arti asc
end	


create store procedure sp_agregarArticulo
(
	
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
)
as
begin
	insert into Articulo values
	(
	v_id_arti.nextval,
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
	)
end


create store procedure sp_modificarArticulo
(
	v_id_arti number,
	v_nom_arti nvarchar,
	v_cant_arti number,
	v_deta_arti nvarchar,
	v_valor_arti number
)
as
begin
	update articulo set nom_arti = v_nom_arti, cant_arti = v_cant_arti, deta_arti = v_deta_arti, valor_arti = v_valor_arti
	where id_arti = v_id_arti
	
end

---------------------------------------------------------------------------

TABLA CHECK IN


create store procedure sp_agregarCheckin
(
	v_deta_chi nvarchar,	
)
as
begin
	insert into checkin values
	(
	v_id_rva.nextval
	v_deta_chi nvarchar
	)
end


create store procedure sp_listarCheckin

as
begin
	select v_deta_chi
	order v_deta_chi asc
end	


create store procedure sp_modificarCheckin
(
	v_id_rva number,
	v_deta_chi nvarchar
	
)
as
begin
	update checkin set deta_chi = v_deta_chi
	where id_rva = v_id_rva
	
end

---------------------------------------------------------------------------

TABLA CHECK OUT

create store procedure sp_listarCheckout

as
begin
	select v_cost_multa, v_deta_cho
	order v_deta_cho asc
end	



create store procedure sp_agregarCheckout
(
	v_cost_multa number,
	v_deta_cho nvarchar,
	
)
as
begin
	insert into Checkout values
	(
	v_id_rva.nextval,
	v_cost_multa number,
	v_deta_cho nvarchar
	)
end



create store procedure sp_modificarCheckout
(
	v_cost_multa number,
	v_deta_cho nvarchar
	
)
as
begin
	update checkout set costo_multa = v_costo_multa , v_deta_cho = v_deta_cho
	where id_cho = v_id_cho
	
end

---------------------------------------------------------------------------

TABLA COMUNA

create store procedure sp_eliminarComuna
(
	v_id_com number
)
as
begin
	delete comuna from comuna where id_com = v_id_com
end


create store procedure sp_listaComuna

as
begin
	select v_nom_com, v_nom_rgn
	from comuna c inner join region r on c.v_id_rgn = r.v_id_rgn
end	


create store procedure sp_agregarComuna
(
	
	v_nom_com nvarchar,
	
)
as
begin
	insert into Comuna values
	(
	v_id_com.nextval,
	v_nom_com nvarchar
	)
end


create store procedure sp_modificarComuna
(
	v_id_com number,
	v_nom_com nvarchar
)
as
begin
	update comuna set nom_com = v_nom_com
	where id_com = v_id_com
	
end

---------------------------------------------------------------------------

TABLA CONDOMINIO

create store procedure sp_eliminarCondominio
(
	v_id_cnd number
)
as
begin
	delete condominio from condominio where id_cnd = v_id_cnd
end


create store procedure sp_listaCondominio

as
begin
	select v_nom_cnd, v_nom_com
	from condominio n inner join comuna c on n.v_id_com = c.v_id_com
end	


create store procedure sp_agregarCondominio
(
	
	v_nom_cnd nvarchar,
	
)
as
begin
	insert into condominio values
	(
	v_id_cnd.nextval,
	v_nom_cnd nvarchar
	)
end


create store procedure sp_modificarCondominio
(
	v_id_cnd number,
	v_nom_cnd nvarchar
)
as
begin
	update condominio set nom_cnd = v_nom_cnd
	where id_cnd = v_id_cnd
	
end


---------------------------------------------------------------------------

TABLA CONT_SERV

create store procedure sp_eliminarContServ
(
	v_id_cont_serv number
)
as
begin
	delete cont_serv from cont_serv where id_cont_serv = v_id_cont_serv
end


create store procedure sp_listaContServ

as
begin
	select v_fec_cont, v_costo_total, v_deta_cont, v_fec_acord, v_lugar_recogida, v_lugar_destino, v_km_rec
	order v_fec_cont asc
end	


create store procedure sp_agregarContServ
(
	
	v_fec_cont date,
	v_costo total number,
	v_deta_cont nvarchar,
	v_fec_acord date,
	v_lugar_recogida nvarchar,
	v_lugar_destino nvarchar,
	v_km_rec number
	
)
as
begin
	insert into Condominio values
	(
	v_id_cont_serv.nextval,
	v_fec_cont date,
	v_costo total number,
	v_deta_cont nvarchar,
	v_fec_acord date,
	v_lugar_recogida nvarchar,
	v_lugar_destino nvarchar,
	v_km_rec number
	)
end


create store procedure sp_modificarContServ
(
	v_id_cont_serv number,
	v_fec_cont date,
	v_costo total number,
	v_deta_cont nvarchar,
	v_fec_acord date,
	v_lugar_recogida nvarchar,
	v_lugar_destino nvarchar,
	v_km_rec number
)
as
begin
	update Cont_serv set fec_cont = v_fec_cont, costo_total = v_costo_total, deta_cont = v_deta_cont, fec_acord = v_fec_acord, lugar_recogida = v_lugar_recogida
	lugar_destino = v_lugar_destino, km_rec = v_km_rec
	where id_cont_serv = v_id_cont_serv
	
end

---------------------------------------------------------------------------

TABLA DEPARTAMENTO

create store procedure sp_eliminarDepartamento
(
	v_id_dpto number
)
as
begin
	delete Departamento from Departamento where id_dpto = v_id_dpto
end


create store procedure sp_listaDepartamento

as
begin
	select v_dir_dpto, v_num_dpto, v_n_amb_dpto, v_desc_dpto, v_costo_arri_dpto, v_img_1_dpto, v_img_2_dpto, v_img_3_dpto, v_img_4_dpto, v_img_5_dpto
	order v_dir_dpto asc
end	


create store procedure sp_agregarDepartamento
(
	
	v_dir_dpto nvarchar, 
	v_num_dpto number, 
	v_n_amb_dpto number, 
	v_desc_dpto nvarchar, 
	v_costo_arri_dpto number, 
	v_img_1_dpto bloob, 
	v_img_2_dpto bloob, 
	v_img_3_dpto bloob,
	v_img_4_dpto bloob, 
	v_img_5_dpto bloob
	
)
as
begin
	insert into departamento values
	(
	v_id_dpto.nextval,
	v_dir_dpto nvarchar, 
	v_num_dpto number, 
	v_n_amb_dpto number, 
	v_desc_dpto nvarchar, 
	v_costo_arri_dpto number, 
	v_img_1_dpto bloob, 
	v_img_2_dpto bloob, 
	v_img_3_dpto bloob,
	v_img_4_dpto bloob, 
	v_img_5_dpto bloob
	)
end


create store procedure sp_modificarDepartamento
(
	v_id_dpto number,
	v_dir_dpto nvarchar, 
	v_num_dpto number, 
	v_n_amb_dpto number, 
	v_desc_dpto nvarchar, 
	v_costo_arri_dpto number, 
	v_img_1_dpto bloob, 
	v_img_2_dpto bloob, 
	v_img_3_dpto bloob,
	v_img_4_dpto bloob, 
	v_img_5_dpto bloob
)
as
begin
	update departamento set dir_dpto = v_dir_dpto, num_dpto = v_num_dpto, n_amb_dpto = v_n_amb_dpto, desc_dpto = v_desc_dpto, costo_arri_dpto = v_costo_arri_dpto,
	img_1_dpto = v_img_1_dpto, img_2_dpto = v_img_2_dpto, img_3_dpto = v_img_3_dpto, img_4_dpto = v_img_4_dpto, img_5_dpto = v_img_5_dpto
	where id_dpto = v_id_dpto
	
end


---------------------------------------------------------------------------
TABLA DISPONIBILIDAD

create store procedure sp_listarDisponibilidad

as
begin
	select v_fec_disp, v_esta_disp
	order v_esta_disp asc
end	



create store procedure sp_agregarDisponibilidad
(
	
	v_fec_disp date,
	v_esta_disp char
)
as
begin
	insert into disponibilidad values
	(
	v_fec_disp date,
	v_esta_disp char
	)
end



create store procedure sp_modificarDisponibilidad
(
	v_fec_disp date,
	v_esta_disp char
)
as
begin
	update disponibilidad set esta_disp = v_esta_disp
	where fec_disp = v_fec_disp
	
end