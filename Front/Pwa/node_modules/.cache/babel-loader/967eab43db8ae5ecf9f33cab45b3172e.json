{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _defineProperty = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _awaitAsyncGenerator = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/awaitAsyncGenerator\");\n\nvar _wrapAsyncGenerator = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapAsyncGenerator\");\n\nvar _tokenParsers;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\n\nvar _token = require(\"./token\");\n\nvar _colmetadataTokenParser = _interopRequireDefault(require(\"./colmetadata-token-parser\"));\n\nvar _doneTokenParser = require(\"./done-token-parser\");\n\nvar _envChangeTokenParser = _interopRequireDefault(require(\"./env-change-token-parser\"));\n\nvar _infoerrorTokenParser = require(\"./infoerror-token-parser\");\n\nvar _fedauthInfoParser = _interopRequireDefault(require(\"./fedauth-info-parser\"));\n\nvar _featureExtAckParser = _interopRequireDefault(require(\"./feature-ext-ack-parser\"));\n\nvar _loginackTokenParser = _interopRequireDefault(require(\"./loginack-token-parser\"));\n\nvar _orderTokenParser = _interopRequireDefault(require(\"./order-token-parser\"));\n\nvar _returnstatusTokenParser = _interopRequireDefault(require(\"./returnstatus-token-parser\"));\n\nvar _returnvalueTokenParser = _interopRequireDefault(require(\"./returnvalue-token-parser\"));\n\nvar _rowTokenParser = _interopRequireDefault(require(\"./row-token-parser\"));\n\nvar _nbcrowTokenParser = _interopRequireDefault(require(\"./nbcrow-token-parser\"));\n\nvar _sspiTokenParser = _interopRequireDefault(require(\"./sspi-token-parser\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar tokenParsers = (_tokenParsers = {}, _defineProperty(_tokenParsers, _token.TYPE.DONE, _doneTokenParser.doneParser), _defineProperty(_tokenParsers, _token.TYPE.DONEINPROC, _doneTokenParser.doneInProcParser), _defineProperty(_tokenParsers, _token.TYPE.DONEPROC, _doneTokenParser.doneProcParser), _defineProperty(_tokenParsers, _token.TYPE.ENVCHANGE, _envChangeTokenParser.default), _defineProperty(_tokenParsers, _token.TYPE.ERROR, _infoerrorTokenParser.errorParser), _defineProperty(_tokenParsers, _token.TYPE.FEDAUTHINFO, _fedauthInfoParser.default), _defineProperty(_tokenParsers, _token.TYPE.FEATUREEXTACK, _featureExtAckParser.default), _defineProperty(_tokenParsers, _token.TYPE.INFO, _infoerrorTokenParser.infoParser), _defineProperty(_tokenParsers, _token.TYPE.LOGINACK, _loginackTokenParser.default), _defineProperty(_tokenParsers, _token.TYPE.ORDER, _orderTokenParser.default), _defineProperty(_tokenParsers, _token.TYPE.RETURNSTATUS, _returnstatusTokenParser.default), _defineProperty(_tokenParsers, _token.TYPE.RETURNVALUE, _returnvalueTokenParser.default), _defineProperty(_tokenParsers, _token.TYPE.SSPI, _sspiTokenParser.default), _tokenParsers);\n\nvar StreamBuffer = /*#__PURE__*/function () {\n  function StreamBuffer(iterable) {\n    _classCallCheck(this, StreamBuffer);\n\n    this.iterator = void 0;\n    this.buffer = void 0;\n    this.position = void 0;\n    this.iterator = (iterable[Symbol.asyncIterator] || iterable[Symbol.iterator]).call(iterable);\n    this.buffer = Buffer.alloc(0);\n    this.position = 0;\n  }\n\n  _createClass(StreamBuffer, [{\n    key: \"waitForChunk\",\n    value: function () {\n      var _waitForChunk = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var result;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.iterator.next();\n\n              case 2:\n                result = _context.sent;\n\n                if (!result.done) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error('unexpected end of data');\n\n              case 5:\n                if (this.position === this.buffer.length) {\n                  this.buffer = result.value;\n                } else {\n                  this.buffer = Buffer.concat([this.buffer.slice(this.position), result.value]);\n                }\n\n                this.position = 0;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function waitForChunk() {\n        return _waitForChunk.apply(this, arguments);\n      }\n\n      return waitForChunk;\n    }()\n  }]);\n\n  return StreamBuffer;\n}();\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(streamBuffer, debug, options) {\n    _classCallCheck(this, Parser);\n\n    this.debug = void 0;\n    this.colMetadata = void 0;\n    this.options = void 0;\n    this.suspended = void 0;\n    this.next = void 0;\n    this.streamBuffer = void 0;\n    this.debug = debug;\n    this.colMetadata = [];\n    this.options = options;\n    this.streamBuffer = streamBuffer;\n    this.suspended = false;\n    this.next = undefined;\n  }\n\n  _createClass(Parser, [{\n    key: \"buffer\",\n    get: function get() {\n      return this.streamBuffer.buffer;\n    }\n  }, {\n    key: \"position\",\n    get: function get() {\n      return this.streamBuffer.position;\n    },\n    set: function set(value) {\n      this.streamBuffer.position = value;\n    }\n  }, {\n    key: \"suspend\",\n    value: function suspend(next) {\n      this.suspended = true;\n      this.next = next;\n    }\n  }, {\n    key: \"awaitData\",\n    value: function awaitData(length, callback) {\n      var _this = this;\n\n      if (this.position + length <= this.buffer.length) {\n        callback();\n      } else {\n        this.suspend(function () {\n          _this.awaitData(length, callback);\n        });\n      }\n    }\n  }, {\n    key: \"readInt8\",\n    value: function readInt8(callback) {\n      var _this2 = this;\n\n      this.awaitData(1, function () {\n        var data = _this2.buffer.readInt8(_this2.position);\n\n        _this2.position += 1;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt8\",\n    value: function readUInt8(callback) {\n      var _this3 = this;\n\n      this.awaitData(1, function () {\n        var data = _this3.buffer.readUInt8(_this3.position);\n\n        _this3.position += 1;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readInt16LE\",\n    value: function readInt16LE(callback) {\n      var _this4 = this;\n\n      this.awaitData(2, function () {\n        var data = _this4.buffer.readInt16LE(_this4.position);\n\n        _this4.position += 2;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readInt16BE\",\n    value: function readInt16BE(callback) {\n      var _this5 = this;\n\n      this.awaitData(2, function () {\n        var data = _this5.buffer.readInt16BE(_this5.position);\n\n        _this5.position += 2;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt16LE\",\n    value: function readUInt16LE(callback) {\n      var _this6 = this;\n\n      this.awaitData(2, function () {\n        var data = _this6.buffer.readUInt16LE(_this6.position);\n\n        _this6.position += 2;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt16BE\",\n    value: function readUInt16BE(callback) {\n      var _this7 = this;\n\n      this.awaitData(2, function () {\n        var data = _this7.buffer.readUInt16BE(_this7.position);\n\n        _this7.position += 2;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readInt32LE\",\n    value: function readInt32LE(callback) {\n      var _this8 = this;\n\n      this.awaitData(4, function () {\n        var data = _this8.buffer.readInt32LE(_this8.position);\n\n        _this8.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readInt32BE\",\n    value: function readInt32BE(callback) {\n      var _this9 = this;\n\n      this.awaitData(4, function () {\n        var data = _this9.buffer.readInt32BE(_this9.position);\n\n        _this9.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt32LE\",\n    value: function readUInt32LE(callback) {\n      var _this10 = this;\n\n      this.awaitData(4, function () {\n        var data = _this10.buffer.readUInt32LE(_this10.position);\n\n        _this10.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt32BE\",\n    value: function readUInt32BE(callback) {\n      var _this11 = this;\n\n      this.awaitData(4, function () {\n        var data = _this11.buffer.readUInt32BE(_this11.position);\n\n        _this11.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readBigInt64LE\",\n    value: function readBigInt64LE(callback) {\n      var _this12 = this;\n\n      this.awaitData(8, function () {\n        var result = _jsbi.default.add(_jsbi.default.leftShift(_jsbi.default.BigInt(_this12.buffer[_this12.position + 4] + _this12.buffer[_this12.position + 5] * Math.pow(2, 8) + _this12.buffer[_this12.position + 6] * Math.pow(2, 16) + (_this12.buffer[_this12.position + 7] << 24) // Overflow\n        ), _jsbi.default.BigInt(32)), _jsbi.default.BigInt(_this12.buffer[_this12.position] + _this12.buffer[_this12.position + 1] * Math.pow(2, 8) + _this12.buffer[_this12.position + 2] * Math.pow(2, 16) + _this12.buffer[_this12.position + 3] * Math.pow(2, 24)));\n\n        _this12.position += 8;\n        callback(result);\n      });\n    }\n  }, {\n    key: \"readInt64LE\",\n    value: function readInt64LE(callback) {\n      var _this13 = this;\n\n      this.awaitData(8, function () {\n        var data = Math.pow(2, 32) * _this13.buffer.readInt32LE(_this13.position + 4) + ((_this13.buffer[_this13.position + 4] & 0x80) === 0x80 ? 1 : -1) * _this13.buffer.readUInt32LE(_this13.position);\n\n        _this13.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readInt64BE\",\n    value: function readInt64BE(callback) {\n      var _this14 = this;\n\n      this.awaitData(8, function () {\n        var data = Math.pow(2, 32) * _this14.buffer.readInt32BE(_this14.position) + ((_this14.buffer[_this14.position] & 0x80) === 0x80 ? 1 : -1) * _this14.buffer.readUInt32BE(_this14.position + 4);\n\n        _this14.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readBigUInt64LE\",\n    value: function readBigUInt64LE(callback) {\n      var _this15 = this;\n\n      this.awaitData(8, function () {\n        var low = _jsbi.default.BigInt(_this15.buffer.readUInt32LE(_this15.position));\n\n        var high = _jsbi.default.BigInt(_this15.buffer.readUInt32LE(_this15.position + 4));\n\n        _this15.position += 8;\n        callback(_jsbi.default.add(low, _jsbi.default.leftShift(high, _jsbi.default.BigInt(32))));\n      });\n    }\n  }, {\n    key: \"readUInt64LE\",\n    value: function readUInt64LE(callback) {\n      var _this16 = this;\n\n      this.awaitData(8, function () {\n        var data = Math.pow(2, 32) * _this16.buffer.readUInt32LE(_this16.position + 4) + _this16.buffer.readUInt32LE(_this16.position);\n\n        _this16.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt64BE\",\n    value: function readUInt64BE(callback) {\n      var _this17 = this;\n\n      this.awaitData(8, function () {\n        var data = Math.pow(2, 32) * _this17.buffer.readUInt32BE(_this17.position) + _this17.buffer.readUInt32BE(_this17.position + 4);\n\n        _this17.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readFloatLE\",\n    value: function readFloatLE(callback) {\n      var _this18 = this;\n\n      this.awaitData(4, function () {\n        var data = _this18.buffer.readFloatLE(_this18.position);\n\n        _this18.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readFloatBE\",\n    value: function readFloatBE(callback) {\n      var _this19 = this;\n\n      this.awaitData(4, function () {\n        var data = _this19.buffer.readFloatBE(_this19.position);\n\n        _this19.position += 4;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readDoubleLE\",\n    value: function readDoubleLE(callback) {\n      var _this20 = this;\n\n      this.awaitData(8, function () {\n        var data = _this20.buffer.readDoubleLE(_this20.position);\n\n        _this20.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readDoubleBE\",\n    value: function readDoubleBE(callback) {\n      var _this21 = this;\n\n      this.awaitData(8, function () {\n        var data = _this21.buffer.readDoubleBE(_this21.position);\n\n        _this21.position += 8;\n        callback(data);\n      });\n    }\n  }, {\n    key: \"readUInt24LE\",\n    value: function readUInt24LE(callback) {\n      var _this22 = this;\n\n      this.awaitData(3, function () {\n        var low = _this22.buffer.readUInt16LE(_this22.position);\n\n        var high = _this22.buffer.readUInt8(_this22.position + 2);\n\n        _this22.position += 3;\n        callback(low | high << 16);\n      });\n    }\n  }, {\n    key: \"readUInt40LE\",\n    value: function readUInt40LE(callback) {\n      var _this23 = this;\n\n      this.awaitData(5, function () {\n        var low = _this23.buffer.readUInt32LE(_this23.position);\n\n        var high = _this23.buffer.readUInt8(_this23.position + 4);\n\n        _this23.position += 5;\n        callback(0x100000000 * high + low);\n      });\n    }\n  }, {\n    key: \"readUNumeric64LE\",\n    value: function readUNumeric64LE(callback) {\n      var _this24 = this;\n\n      this.awaitData(8, function () {\n        var low = _this24.buffer.readUInt32LE(_this24.position);\n\n        var high = _this24.buffer.readUInt32LE(_this24.position + 4);\n\n        _this24.position += 8;\n        callback(0x100000000 * high + low);\n      });\n    }\n  }, {\n    key: \"readUNumeric96LE\",\n    value: function readUNumeric96LE(callback) {\n      var _this25 = this;\n\n      this.awaitData(12, function () {\n        var dword1 = _this25.buffer.readUInt32LE(_this25.position);\n\n        var dword2 = _this25.buffer.readUInt32LE(_this25.position + 4);\n\n        var dword3 = _this25.buffer.readUInt32LE(_this25.position + 8);\n\n        _this25.position += 12;\n        callback(dword1 + 0x100000000 * dword2 + 0x100000000 * 0x100000000 * dword3);\n      });\n    }\n  }, {\n    key: \"readUNumeric128LE\",\n    value: function readUNumeric128LE(callback) {\n      var _this26 = this;\n\n      this.awaitData(16, function () {\n        var dword1 = _this26.buffer.readUInt32LE(_this26.position);\n\n        var dword2 = _this26.buffer.readUInt32LE(_this26.position + 4);\n\n        var dword3 = _this26.buffer.readUInt32LE(_this26.position + 8);\n\n        var dword4 = _this26.buffer.readUInt32LE(_this26.position + 12);\n\n        _this26.position += 16;\n        callback(dword1 + 0x100000000 * dword2 + 0x100000000 * 0x100000000 * dword3 + 0x100000000 * 0x100000000 * 0x100000000 * dword4);\n      });\n    } // Variable length data\n\n  }, {\n    key: \"readBuffer\",\n    value: function readBuffer(length, callback) {\n      var _this27 = this;\n\n      this.awaitData(length, function () {\n        var data = _this27.buffer.slice(_this27.position, _this27.position + length);\n\n        _this27.position += length;\n        callback(data);\n      });\n    } // Read a Unicode String (BVARCHAR)\n\n  }, {\n    key: \"readBVarChar\",\n    value: function readBVarChar(callback) {\n      var _this28 = this;\n\n      this.readUInt8(function (length) {\n        _this28.readBuffer(length * 2, function (data) {\n          callback(data.toString('ucs2'));\n        });\n      });\n    } // Read a Unicode String (USVARCHAR)\n\n  }, {\n    key: \"readUsVarChar\",\n    value: function readUsVarChar(callback) {\n      var _this29 = this;\n\n      this.readUInt16LE(function (length) {\n        _this29.readBuffer(length * 2, function (data) {\n          callback(data.toString('ucs2'));\n        });\n      });\n    } // Read binary data (BVARBYTE)\n\n  }, {\n    key: \"readBVarByte\",\n    value: function readBVarByte(callback) {\n      var _this30 = this;\n\n      this.readUInt8(function (length) {\n        _this30.readBuffer(length, callback);\n      });\n    } // Read binary data (USVARBYTE)\n\n  }, {\n    key: \"readUsVarByte\",\n    value: function readUsVarByte(callback) {\n      var _this31 = this;\n\n      this.readUInt16LE(function (length) {\n        _this31.readBuffer(length, callback);\n      });\n    }\n  }], [{\n    key: \"parseTokens\",\n    value: function parseTokens(iterable, debug, options) {\n      var colMetadata = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n      return _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var token, onDoneParsing, streamBuffer, parser, next, type, _token2;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                onDoneParsing = function onDoneParsing(t) {\n                  token = t;\n                };\n\n                streamBuffer = new StreamBuffer(iterable);\n                parser = new Parser(streamBuffer, debug, options);\n                parser.colMetadata = colMetadata;\n\n              case 4:\n                if (!true) {\n                  _context2.next = 58;\n                  break;\n                }\n\n                _context2.prev = 5;\n                _context2.next = 8;\n                return _awaitAsyncGenerator(streamBuffer.waitForChunk());\n\n              case 8:\n                _context2.next = 15;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](5);\n\n                if (!(streamBuffer.position === streamBuffer.buffer.length)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 14:\n                throw _context2.t0;\n\n              case 15:\n                if (!parser.suspended) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                // Unsuspend and continue from where ever we left off.\n                parser.suspended = false;\n                next = parser.next;\n                next(); // Check if a new token was parsed after unsuspension.\n\n                if (!(!parser.suspended && token)) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                if (token instanceof _token.ColMetadataToken) {\n                  parser.colMetadata = token.columns;\n                }\n\n                _context2.next = 23;\n                return token;\n\n              case 23:\n                if (!(!parser.suspended && parser.position + 1 <= parser.buffer.length)) {\n                  _context2.next = 56;\n                  break;\n                }\n\n                type = parser.buffer.readUInt8(parser.position);\n                parser.position += 1;\n\n                if (!(type === _token.TYPE.COLMETADATA)) {\n                  _context2.next = 35;\n                  break;\n                }\n\n                _context2.next = 29;\n                return _awaitAsyncGenerator((0, _colmetadataTokenParser.default)(parser));\n\n              case 29:\n                _token2 = _context2.sent;\n                parser.colMetadata = _token2.columns;\n                _context2.next = 33;\n                return _token2;\n\n              case 33:\n                _context2.next = 54;\n                break;\n\n              case 35:\n                if (!(type === _token.TYPE.ROW)) {\n                  _context2.next = 40;\n                  break;\n                }\n\n                _context2.next = 38;\n                return (0, _rowTokenParser.default)(parser);\n\n              case 38:\n                _context2.next = 54;\n                break;\n\n              case 40:\n                if (!(type === _token.TYPE.NBCROW)) {\n                  _context2.next = 45;\n                  break;\n                }\n\n                _context2.next = 43;\n                return (0, _nbcrowTokenParser.default)(parser);\n\n              case 43:\n                _context2.next = 54;\n                break;\n\n              case 45:\n                if (!tokenParsers[type]) {\n                  _context2.next = 53;\n                  break;\n                }\n\n                tokenParsers[type](parser, parser.options, onDoneParsing); // Check if a new token was parsed after unsuspension.\n\n                if (!(!parser.suspended && token)) {\n                  _context2.next = 51;\n                  break;\n                }\n\n                if (token instanceof _token.ColMetadataToken) {\n                  parser.colMetadata = token.columns;\n                }\n\n                _context2.next = 51;\n                return token;\n\n              case 51:\n                _context2.next = 54;\n                break;\n\n              case 53:\n                throw new Error('Unknown type: ' + type);\n\n              case 54:\n                _context2.next = 23;\n                break;\n\n              case 56:\n                _context2.next = 4;\n                break;\n\n              case 58:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[5, 10]]);\n      }))();\n    }\n  }]);\n\n  return Parser;\n}();\n\nvar _default = Parser;\nexports.default = _default;\nmodule.exports = Parser;","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/mssql/node_modules/tedious/lib/token/stream-parser.js"],"names":["Object","defineProperty","exports","value","default","_jsbi","_interopRequireDefault","require","_token","_colmetadataTokenParser","_doneTokenParser","_envChangeTokenParser","_infoerrorTokenParser","_fedauthInfoParser","_featureExtAckParser","_loginackTokenParser","_orderTokenParser","_returnstatusTokenParser","_returnvalueTokenParser","_rowTokenParser","_nbcrowTokenParser","_sspiTokenParser","obj","__esModule","tokenParsers","TYPE","DONE","doneParser","DONEINPROC","doneInProcParser","DONEPROC","doneProcParser","ENVCHANGE","ERROR","errorParser","FEDAUTHINFO","FEATUREEXTACK","INFO","infoParser","LOGINACK","ORDER","RETURNSTATUS","RETURNVALUE","SSPI","StreamBuffer","iterable","iterator","buffer","position","Symbol","asyncIterator","call","Buffer","alloc","next","result","done","Error","length","concat","slice","Parser","streamBuffer","debug","options","colMetadata","suspended","undefined","callback","suspend","awaitData","data","readInt8","readUInt8","readInt16LE","readInt16BE","readUInt16LE","readUInt16BE","readInt32LE","readInt32BE","readUInt32LE","readUInt32BE","add","leftShift","BigInt","Math","pow","low","high","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","dword1","dword2","dword3","dword4","readBuffer","toString","onDoneParsing","t","token","parser","waitForChunk","ColMetadataToken","columns","type","COLMETADATA","ROW","NBCROW","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar _jsbi = _interopRequireDefault(require(\"jsbi\"));\r\n\r\nvar _token = require(\"./token\");\r\n\r\nvar _colmetadataTokenParser = _interopRequireDefault(require(\"./colmetadata-token-parser\"));\r\n\r\nvar _doneTokenParser = require(\"./done-token-parser\");\r\n\r\nvar _envChangeTokenParser = _interopRequireDefault(require(\"./env-change-token-parser\"));\r\n\r\nvar _infoerrorTokenParser = require(\"./infoerror-token-parser\");\r\n\r\nvar _fedauthInfoParser = _interopRequireDefault(require(\"./fedauth-info-parser\"));\r\n\r\nvar _featureExtAckParser = _interopRequireDefault(require(\"./feature-ext-ack-parser\"));\r\n\r\nvar _loginackTokenParser = _interopRequireDefault(require(\"./loginack-token-parser\"));\r\n\r\nvar _orderTokenParser = _interopRequireDefault(require(\"./order-token-parser\"));\r\n\r\nvar _returnstatusTokenParser = _interopRequireDefault(require(\"./returnstatus-token-parser\"));\r\n\r\nvar _returnvalueTokenParser = _interopRequireDefault(require(\"./returnvalue-token-parser\"));\r\n\r\nvar _rowTokenParser = _interopRequireDefault(require(\"./row-token-parser\"));\r\n\r\nvar _nbcrowTokenParser = _interopRequireDefault(require(\"./nbcrow-token-parser\"));\r\n\r\nvar _sspiTokenParser = _interopRequireDefault(require(\"./sspi-token-parser\"));\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nconst tokenParsers = {\r\n  [_token.TYPE.DONE]: _doneTokenParser.doneParser,\r\n  [_token.TYPE.DONEINPROC]: _doneTokenParser.doneInProcParser,\r\n  [_token.TYPE.DONEPROC]: _doneTokenParser.doneProcParser,\r\n  [_token.TYPE.ENVCHANGE]: _envChangeTokenParser.default,\r\n  [_token.TYPE.ERROR]: _infoerrorTokenParser.errorParser,\r\n  [_token.TYPE.FEDAUTHINFO]: _fedauthInfoParser.default,\r\n  [_token.TYPE.FEATUREEXTACK]: _featureExtAckParser.default,\r\n  [_token.TYPE.INFO]: _infoerrorTokenParser.infoParser,\r\n  [_token.TYPE.LOGINACK]: _loginackTokenParser.default,\r\n  [_token.TYPE.ORDER]: _orderTokenParser.default,\r\n  [_token.TYPE.RETURNSTATUS]: _returnstatusTokenParser.default,\r\n  [_token.TYPE.RETURNVALUE]: _returnvalueTokenParser.default,\r\n  [_token.TYPE.SSPI]: _sspiTokenParser.default\r\n};\r\n\r\nclass StreamBuffer {\r\n  constructor(iterable) {\r\n    this.iterator = void 0;\r\n    this.buffer = void 0;\r\n    this.position = void 0;\r\n    this.iterator = (iterable[Symbol.asyncIterator] || iterable[Symbol.iterator]).call(iterable);\r\n    this.buffer = Buffer.alloc(0);\r\n    this.position = 0;\r\n  }\r\n\r\n  async waitForChunk() {\r\n    const result = await this.iterator.next();\r\n\r\n    if (result.done) {\r\n      throw new Error('unexpected end of data');\r\n    }\r\n\r\n    if (this.position === this.buffer.length) {\r\n      this.buffer = result.value;\r\n    } else {\r\n      this.buffer = Buffer.concat([this.buffer.slice(this.position), result.value]);\r\n    }\r\n\r\n    this.position = 0;\r\n  }\r\n\r\n}\r\n\r\nclass Parser {\r\n  static async *parseTokens(iterable, debug, options, colMetadata = []) {\r\n    let token;\r\n\r\n    const onDoneParsing = t => {\r\n      token = t;\r\n    };\r\n\r\n    const streamBuffer = new StreamBuffer(iterable);\r\n    const parser = new Parser(streamBuffer, debug, options);\r\n    parser.colMetadata = colMetadata;\r\n\r\n    while (true) {\r\n      try {\r\n        await streamBuffer.waitForChunk();\r\n      } catch (err) {\r\n        if (streamBuffer.position === streamBuffer.buffer.length) {\r\n          return;\r\n        }\r\n\r\n        throw err;\r\n      }\r\n\r\n      if (parser.suspended) {\r\n        // Unsuspend and continue from where ever we left off.\r\n        parser.suspended = false;\r\n        const next = parser.next;\r\n        next(); // Check if a new token was parsed after unsuspension.\r\n\r\n        if (!parser.suspended && token) {\r\n          if (token instanceof _token.ColMetadataToken) {\r\n            parser.colMetadata = token.columns;\r\n          }\r\n\r\n          yield token;\r\n        }\r\n      }\r\n\r\n      while (!parser.suspended && parser.position + 1 <= parser.buffer.length) {\r\n        const type = parser.buffer.readUInt8(parser.position);\r\n        parser.position += 1;\r\n\r\n        if (type === _token.TYPE.COLMETADATA) {\r\n          const token = await (0, _colmetadataTokenParser.default)(parser);\r\n          parser.colMetadata = token.columns;\r\n          yield token;\r\n        } else if (type === _token.TYPE.ROW) {\r\n          yield (0, _rowTokenParser.default)(parser);\r\n        } else if (type === _token.TYPE.NBCROW) {\r\n          yield (0, _nbcrowTokenParser.default)(parser);\r\n        } else if (tokenParsers[type]) {\r\n          tokenParsers[type](parser, parser.options, onDoneParsing); // Check if a new token was parsed after unsuspension.\r\n\r\n          if (!parser.suspended && token) {\r\n            if (token instanceof _token.ColMetadataToken) {\r\n              parser.colMetadata = token.columns;\r\n            }\r\n\r\n            yield token;\r\n          }\r\n        } else {\r\n          throw new Error('Unknown type: ' + type);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  constructor(streamBuffer, debug, options) {\r\n    this.debug = void 0;\r\n    this.colMetadata = void 0;\r\n    this.options = void 0;\r\n    this.suspended = void 0;\r\n    this.next = void 0;\r\n    this.streamBuffer = void 0;\r\n    this.debug = debug;\r\n    this.colMetadata = [];\r\n    this.options = options;\r\n    this.streamBuffer = streamBuffer;\r\n    this.suspended = false;\r\n    this.next = undefined;\r\n  }\r\n\r\n  get buffer() {\r\n    return this.streamBuffer.buffer;\r\n  }\r\n\r\n  get position() {\r\n    return this.streamBuffer.position;\r\n  }\r\n\r\n  set position(value) {\r\n    this.streamBuffer.position = value;\r\n  }\r\n\r\n  suspend(next) {\r\n    this.suspended = true;\r\n    this.next = next;\r\n  }\r\n\r\n  awaitData(length, callback) {\r\n    if (this.position + length <= this.buffer.length) {\r\n      callback();\r\n    } else {\r\n      this.suspend(() => {\r\n        this.awaitData(length, callback);\r\n      });\r\n    }\r\n  }\r\n\r\n  readInt8(callback) {\r\n    this.awaitData(1, () => {\r\n      const data = this.buffer.readInt8(this.position);\r\n      this.position += 1;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt8(callback) {\r\n    this.awaitData(1, () => {\r\n      const data = this.buffer.readUInt8(this.position);\r\n      this.position += 1;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readInt16LE(callback) {\r\n    this.awaitData(2, () => {\r\n      const data = this.buffer.readInt16LE(this.position);\r\n      this.position += 2;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readInt16BE(callback) {\r\n    this.awaitData(2, () => {\r\n      const data = this.buffer.readInt16BE(this.position);\r\n      this.position += 2;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt16LE(callback) {\r\n    this.awaitData(2, () => {\r\n      const data = this.buffer.readUInt16LE(this.position);\r\n      this.position += 2;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt16BE(callback) {\r\n    this.awaitData(2, () => {\r\n      const data = this.buffer.readUInt16BE(this.position);\r\n      this.position += 2;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readInt32LE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readInt32LE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readInt32BE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readInt32BE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt32LE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readUInt32LE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt32BE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readUInt32BE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readBigInt64LE(callback) {\r\n    this.awaitData(8, () => {\r\n      const result = _jsbi.default.add(_jsbi.default.leftShift(_jsbi.default.BigInt(this.buffer[this.position + 4] + this.buffer[this.position + 5] * 2 ** 8 + this.buffer[this.position + 6] * 2 ** 16 + (this.buffer[this.position + 7] << 24) // Overflow\r\n      ), _jsbi.default.BigInt(32)), _jsbi.default.BigInt(this.buffer[this.position] + this.buffer[this.position + 1] * 2 ** 8 + this.buffer[this.position + 2] * 2 ** 16 + this.buffer[this.position + 3] * 2 ** 24));\r\n\r\n      this.position += 8;\r\n      callback(result);\r\n    });\r\n  }\r\n\r\n  readInt64LE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = Math.pow(2, 32) * this.buffer.readInt32LE(this.position + 4) + ((this.buffer[this.position + 4] & 0x80) === 0x80 ? 1 : -1) * this.buffer.readUInt32LE(this.position);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readInt64BE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = Math.pow(2, 32) * this.buffer.readInt32BE(this.position) + ((this.buffer[this.position] & 0x80) === 0x80 ? 1 : -1) * this.buffer.readUInt32BE(this.position + 4);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readBigUInt64LE(callback) {\r\n    this.awaitData(8, () => {\r\n      const low = _jsbi.default.BigInt(this.buffer.readUInt32LE(this.position));\r\n\r\n      const high = _jsbi.default.BigInt(this.buffer.readUInt32LE(this.position + 4));\r\n\r\n      this.position += 8;\r\n      callback(_jsbi.default.add(low, _jsbi.default.leftShift(high, _jsbi.default.BigInt(32))));\r\n    });\r\n  }\r\n\r\n  readUInt64LE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = Math.pow(2, 32) * this.buffer.readUInt32LE(this.position + 4) + this.buffer.readUInt32LE(this.position);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt64BE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = Math.pow(2, 32) * this.buffer.readUInt32BE(this.position) + this.buffer.readUInt32BE(this.position + 4);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readFloatLE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readFloatLE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readFloatBE(callback) {\r\n    this.awaitData(4, () => {\r\n      const data = this.buffer.readFloatBE(this.position);\r\n      this.position += 4;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readDoubleLE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = this.buffer.readDoubleLE(this.position);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readDoubleBE(callback) {\r\n    this.awaitData(8, () => {\r\n      const data = this.buffer.readDoubleBE(this.position);\r\n      this.position += 8;\r\n      callback(data);\r\n    });\r\n  }\r\n\r\n  readUInt24LE(callback) {\r\n    this.awaitData(3, () => {\r\n      const low = this.buffer.readUInt16LE(this.position);\r\n      const high = this.buffer.readUInt8(this.position + 2);\r\n      this.position += 3;\r\n      callback(low | high << 16);\r\n    });\r\n  }\r\n\r\n  readUInt40LE(callback) {\r\n    this.awaitData(5, () => {\r\n      const low = this.buffer.readUInt32LE(this.position);\r\n      const high = this.buffer.readUInt8(this.position + 4);\r\n      this.position += 5;\r\n      callback(0x100000000 * high + low);\r\n    });\r\n  }\r\n\r\n  readUNumeric64LE(callback) {\r\n    this.awaitData(8, () => {\r\n      const low = this.buffer.readUInt32LE(this.position);\r\n      const high = this.buffer.readUInt32LE(this.position + 4);\r\n      this.position += 8;\r\n      callback(0x100000000 * high + low);\r\n    });\r\n  }\r\n\r\n  readUNumeric96LE(callback) {\r\n    this.awaitData(12, () => {\r\n      const dword1 = this.buffer.readUInt32LE(this.position);\r\n      const dword2 = this.buffer.readUInt32LE(this.position + 4);\r\n      const dword3 = this.buffer.readUInt32LE(this.position + 8);\r\n      this.position += 12;\r\n      callback(dword1 + 0x100000000 * dword2 + 0x100000000 * 0x100000000 * dword3);\r\n    });\r\n  }\r\n\r\n  readUNumeric128LE(callback) {\r\n    this.awaitData(16, () => {\r\n      const dword1 = this.buffer.readUInt32LE(this.position);\r\n      const dword2 = this.buffer.readUInt32LE(this.position + 4);\r\n      const dword3 = this.buffer.readUInt32LE(this.position + 8);\r\n      const dword4 = this.buffer.readUInt32LE(this.position + 12);\r\n      this.position += 16;\r\n      callback(dword1 + 0x100000000 * dword2 + 0x100000000 * 0x100000000 * dword3 + 0x100000000 * 0x100000000 * 0x100000000 * dword4);\r\n    });\r\n  } // Variable length data\r\n\r\n\r\n  readBuffer(length, callback) {\r\n    this.awaitData(length, () => {\r\n      const data = this.buffer.slice(this.position, this.position + length);\r\n      this.position += length;\r\n      callback(data);\r\n    });\r\n  } // Read a Unicode String (BVARCHAR)\r\n\r\n\r\n  readBVarChar(callback) {\r\n    this.readUInt8(length => {\r\n      this.readBuffer(length * 2, data => {\r\n        callback(data.toString('ucs2'));\r\n      });\r\n    });\r\n  } // Read a Unicode String (USVARCHAR)\r\n\r\n\r\n  readUsVarChar(callback) {\r\n    this.readUInt16LE(length => {\r\n      this.readBuffer(length * 2, data => {\r\n        callback(data.toString('ucs2'));\r\n      });\r\n    });\r\n  } // Read binary data (BVARBYTE)\r\n\r\n\r\n  readBVarByte(callback) {\r\n    this.readUInt8(length => {\r\n      this.readBuffer(length, callback);\r\n    });\r\n  } // Read binary data (USVARBYTE)\r\n\r\n\r\n  readUsVarByte(callback) {\r\n    this.readUInt16LE(length => {\r\n      this.readBuffer(length, callback);\r\n    });\r\n  }\r\n\r\n}\r\n\r\nvar _default = Parser;\r\nexports.default = _default;\r\nmodule.exports = Parser;"]},"metadata":{},"sourceType":"script"}