{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matia\\\\Documents\\\\Git\\\\Turismo-Real\\\\front\\\\pwa\\\\src\\\\components\\\\Views\\\\Reservas\\\\Reserva.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PaypalCheckout from '../../Layouts/PaypalCheckout';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Navbar from '../../Layouts/Navbar';\nimport { useParams, useLocation } from 'react-router-dom';\nimport DatePicker from '../../Layouts/Date-Picker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure({});\n\nconst notifyS = () => {\n  toast.success('Operación realizada con éxito', {\n    position: toast.POSITION.TOP_CENTER,\n    theme: \"colored\"\n  });\n};\n\nconst notifyE = () => {\n  toast.error('Operación cancelada', {\n    position: toast.POSITION.TOP_CENTER,\n    theme: \"colored\"\n  });\n};\n\nexport default function Reserva() {\n  _s();\n\n  // const location = useLocation();\n  // let  {id_depto}  = useParams();\n  let id_depto = sessionStorage.id_d;\n  const [pago, setPago] = useState([]);\n  const [id_rva, setId_rva] = useState(null);\n  const [fechas, setFechas] = useState([]);\n  const [arrayF, setArrayF] = useState([]); // const [id_depto, setId_depto] = useState(location.state.id_d);\n\n  useEffect(() => {\n    if (!id_rva) {\n      getMontoPago(id_rva);\n    }\n\n    ;\n  }, [id_rva]);\n  useEffect(() => {\n    console.log('id depto:', id_depto);\n    getFechas(id_depto);\n  }, [id_depto]);\n  useEffect(() => {\n    const dates = fechas.map(e => {\n      let newFecha = new Date(e.fec_disp_no);\n      const val = newFecha.toLocaleDateString(\"en-US\", e.fec_disp_no);\n      return val;\n    });\n    setArrayF(dates);\n  }, [fechas]);\n\n  const getMontoPago = async id => {\n    const res = await axios.get('http://localhost:4000/API/pago/montoPago/' + id);\n    setPago(res.data);\n    console.log(res);\n  };\n\n  const getFechas = async id => {\n    const dat = await axios.post('http://localhost:4000/API/disponibilidadNoId', id);\n    setFechas(dat.data);\n  };\n\n  function GenerarPago(props) {\n    const generarP = props.generar;\n\n    if (generarP) {\n      return PagoPaypal({\n        id_rva\n      });\n    }\n\n    ;\n    return console.log('Falta generar ordende reserva');\n  }\n\n  ;\n\n  function PagoPaypal(id_res) {\n    let myvar = pago.map(e => e.pago);\n    console.log({\n      myvar\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(PaypalCheckout, {\n        precio: myvar,\n        id_rva: id_res\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n  ;\n  console.log('Inicio carga disponibilidad');\n  console.log('Fechas: ', fechas);\n  console.log('fechas ArrayF', arrayF);\n  console.log('End carga disponibilidad');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n      fechas: arrayF\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Boton\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Reserva, \"gHJNVFBBrGP/RFpDeQ0VfaNLFIA=\");\n\n_c = Reserva;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reserva\");","map":{"version":3,"sources":["C:/Users/matia/Documents/Git/Turismo-Real/front/pwa/src/components/Views/Reservas/Reserva.jsx"],"names":["React","useEffect","useState","PaypalCheckout","axios","toast","Navbar","useParams","useLocation","DatePicker","configure","notifyS","success","position","POSITION","TOP_CENTER","theme","notifyE","error","Reserva","id_depto","sessionStorage","id_d","pago","setPago","id_rva","setId_rva","fechas","setFechas","arrayF","setArrayF","getMontoPago","console","log","getFechas","dates","map","e","newFecha","Date","fec_disp_no","val","toLocaleDateString","id","res","get","data","dat","post","GenerarPago","props","generarP","generar","PagoPaypal","id_res","myvar"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PaypalCheckout from '../../Layouts/PaypalCheckout';\r\nimport axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport Navbar from '../../Layouts/Navbar';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport DatePicker from '../../Layouts/Date-Picker';\r\n\r\ntoast.configure({\r\n});\r\n\r\nconst notifyS = () =>{\r\n    toast.success('Operación realizada con éxito',{\r\n        position: toast.POSITION.TOP_CENTER,\r\n        theme: \"colored\"\r\n    });\r\n};\r\n\r\nconst notifyE = () =>{\r\n    toast.error('Operación cancelada',{\r\n        position: toast.POSITION.TOP_CENTER,\r\n        theme: \"colored\"\r\n    });\r\n};\r\n\r\nexport default function Reserva() {\r\n    // const location = useLocation();\r\n    // let  {id_depto}  = useParams();\r\n    let id_depto = sessionStorage.id_d;\r\n    const [pago, setPago] = useState([]);\r\n    const [id_rva, setId_rva] = useState(null);\r\n    const [fechas, setFechas] = useState([]);\r\n    const [arrayF, setArrayF] = useState([]);\r\n    // const [id_depto, setId_depto] = useState(location.state.id_d);\r\n\r\n\r\n    useEffect(()=>{\r\n        if (!id_rva) {\r\n            getMontoPago(id_rva);\r\n        };\r\n    },[id_rva]);\r\n\r\n    useEffect(() =>{\r\n        console.log('id depto:', id_depto)\r\n        getFechas(id_depto)\r\n    },[id_depto]);\r\n  \r\n    useEffect(() => {\r\n        const dates = fechas.map((e) => {\r\n        let newFecha = new Date(e.fec_disp_no);\r\n        const val = newFecha.toLocaleDateString(\"en-US\", e.fec_disp_no);\r\n        return val;\r\n        })\r\n        setArrayF(dates);\r\n    }, [fechas]);\r\n    \r\n    const getMontoPago = async (id) =>{\r\n        const res = await axios.get('http://localhost:4000/API/pago/montoPago/' + id)\r\n        setPago(res.data);\r\n        console.log(res);\r\n    }\r\n    \r\n    const getFechas = async (id) =>{\r\n        const dat = await axios.post('http://localhost:4000/API/disponibilidadNoId', id)\r\n        setFechas(dat.data);\r\n    };\r\n  \r\n    function GenerarPago(props){\r\n        const generarP = props.generar;\r\n        if (generarP) {\r\n           return PagoPaypal({id_rva})\r\n        };\r\n        return console.log('Falta generar ordende reserva');\r\n    };\r\n\r\n    function PagoPaypal(id_res){\r\n        let myvar = pago.map((e)=>e.pago);\r\n        console.log({myvar});\r\n        return(\r\n            <div>\r\n                <PaypalCheckout\r\n                    precio = {myvar}\r\n                    id_rva = {id_res}\r\n                />\r\n            </div>);\r\n    };\r\n    \r\n    console.log('Inicio carga disponibilidad');\r\n    console.log('Fechas: ',fechas);\r\n    console.log('fechas ArrayF', arrayF);\r\n    console.log('End carga disponibilidad');\r\n\r\n    return (\r\n        <div>\r\n            {/* <Navbar/> */}\r\n            <DatePicker\r\n                fechas={arrayF}\r\n            />                \r\n            {/* <GenerarPago generar={false}/> */}\r\n            <button>\r\n                Boton\r\n            </button>\r\n        </div>\r\n    )    \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}