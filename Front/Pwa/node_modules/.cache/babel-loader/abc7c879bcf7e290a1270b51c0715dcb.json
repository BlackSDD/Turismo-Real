{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _token = require(\"./token\");\n\nvar FEDAUTHINFOID = {\n  STSURL: 0x01,\n  SPN: 0x02\n};\n\nfunction fedAuthInfoParser(parser, _options, callback) {\n  parser.readUInt32LE(function (tokenLength) {\n    parser.readBuffer(tokenLength, function (data) {\n      var spn, stsurl;\n      var offset = 0;\n      var countOfInfoIDs = data.readUInt32LE(offset);\n      offset += 4;\n\n      for (var i = 0; i < countOfInfoIDs; i++) {\n        var fedauthInfoID = data.readUInt8(offset);\n        offset += 1;\n        var fedAuthInfoDataLen = data.readUInt32LE(offset);\n        offset += 4;\n        var fedAuthInfoDataOffset = data.readUInt32LE(offset);\n        offset += 4;\n\n        switch (fedauthInfoID) {\n          case FEDAUTHINFOID.SPN:\n            spn = data.toString('ucs2', fedAuthInfoDataOffset, fedAuthInfoDataOffset + fedAuthInfoDataLen);\n            break;\n\n          case FEDAUTHINFOID.STSURL:\n            stsurl = data.toString('ucs2', fedAuthInfoDataOffset, fedAuthInfoDataOffset + fedAuthInfoDataLen);\n            break;\n          // ignoring unknown fedauthinfo options\n\n          default:\n            break;\n        }\n      }\n\n      callback(new _token.FedAuthInfoToken(spn, stsurl));\n    });\n  });\n}\n\nvar _default = fedAuthInfoParser;\nexports.default = _default;\nmodule.exports = fedAuthInfoParser;","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/mssql/node_modules/tedious/lib/token/fedauth-info-parser.js"],"names":["Object","defineProperty","exports","value","default","_token","require","FEDAUTHINFOID","STSURL","SPN","fedAuthInfoParser","parser","_options","callback","readUInt32LE","tokenLength","readBuffer","data","spn","stsurl","offset","countOfInfoIDs","i","fedauthInfoID","readUInt8","fedAuthInfoDataLen","fedAuthInfoDataOffset","toString","FedAuthInfoToken","_default","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,MAAM,EAAE,IADY;AAEpBC,EAAAA,GAAG,EAAE;AAFe,CAAtB;;AAKA,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuD;AACrDF,EAAAA,MAAM,CAACG,YAAP,CAAoB,UAAAC,WAAW,EAAI;AACjCJ,IAAAA,MAAM,CAACK,UAAP,CAAkBD,WAAlB,EAA+B,UAAAE,IAAI,EAAI;AACrC,UAAIC,GAAJ,EAASC,MAAT;AACA,UAAIC,MAAM,GAAG,CAAb;AACA,UAAMC,cAAc,GAAGJ,IAAI,CAACH,YAAL,CAAkBM,MAAlB,CAAvB;AACAA,MAAAA,MAAM,IAAI,CAAV;;AAEA,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,cAApB,EAAoCC,CAAC,EAArC,EAAyC;AACvC,YAAMC,aAAa,GAAGN,IAAI,CAACO,SAAL,CAAeJ,MAAf,CAAtB;AACAA,QAAAA,MAAM,IAAI,CAAV;AACA,YAAMK,kBAAkB,GAAGR,IAAI,CAACH,YAAL,CAAkBM,MAAlB,CAA3B;AACAA,QAAAA,MAAM,IAAI,CAAV;AACA,YAAMM,qBAAqB,GAAGT,IAAI,CAACH,YAAL,CAAkBM,MAAlB,CAA9B;AACAA,QAAAA,MAAM,IAAI,CAAV;;AAEA,gBAAQG,aAAR;AACE,eAAKhB,aAAa,CAACE,GAAnB;AACES,YAAAA,GAAG,GAAGD,IAAI,CAACU,QAAL,CAAc,MAAd,EAAsBD,qBAAtB,EAA6CA,qBAAqB,GAAGD,kBAArE,CAAN;AACA;;AAEF,eAAKlB,aAAa,CAACC,MAAnB;AACEW,YAAAA,MAAM,GAAGF,IAAI,CAACU,QAAL,CAAc,MAAd,EAAsBD,qBAAtB,EAA6CA,qBAAqB,GAAGD,kBAArE,CAAT;AACA;AACF;;AAEA;AACE;AAXJ;AAaD;;AAEDZ,MAAAA,QAAQ,CAAC,IAAIR,MAAM,CAACuB,gBAAX,CAA4BV,GAA5B,EAAiCC,MAAjC,CAAD,CAAR;AACD,KA9BD;AA+BD,GAhCD;AAiCD;;AAED,IAAIU,QAAQ,GAAGnB,iBAAf;AACAR,OAAO,CAACE,OAAR,GAAkByB,QAAlB;AACAC,MAAM,CAAC5B,OAAP,GAAiBQ,iBAAjB","sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar _token = require(\"./token\");\r\n\r\nconst FEDAUTHINFOID = {\r\n  STSURL: 0x01,\r\n  SPN: 0x02\r\n};\r\n\r\nfunction fedAuthInfoParser(parser, _options, callback) {\r\n  parser.readUInt32LE(tokenLength => {\r\n    parser.readBuffer(tokenLength, data => {\r\n      let spn, stsurl;\r\n      let offset = 0;\r\n      const countOfInfoIDs = data.readUInt32LE(offset);\r\n      offset += 4;\r\n\r\n      for (let i = 0; i < countOfInfoIDs; i++) {\r\n        const fedauthInfoID = data.readUInt8(offset);\r\n        offset += 1;\r\n        const fedAuthInfoDataLen = data.readUInt32LE(offset);\r\n        offset += 4;\r\n        const fedAuthInfoDataOffset = data.readUInt32LE(offset);\r\n        offset += 4;\r\n\r\n        switch (fedauthInfoID) {\r\n          case FEDAUTHINFOID.SPN:\r\n            spn = data.toString('ucs2', fedAuthInfoDataOffset, fedAuthInfoDataOffset + fedAuthInfoDataLen);\r\n            break;\r\n\r\n          case FEDAUTHINFOID.STSURL:\r\n            stsurl = data.toString('ucs2', fedAuthInfoDataOffset, fedAuthInfoDataOffset + fedAuthInfoDataLen);\r\n            break;\r\n          // ignoring unknown fedauthinfo options\r\n\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      callback(new _token.FedAuthInfoToken(spn, stsurl));\r\n    });\r\n  });\r\n}\r\n\r\nvar _default = fedAuthInfoParser;\r\nexports.default = _default;\r\nmodule.exports = fedAuthInfoParser;"]},"metadata":{},"sourceType":"script"}