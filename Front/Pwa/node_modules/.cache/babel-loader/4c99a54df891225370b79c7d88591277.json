{"ast":null,"code":"// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License. See License.txt in the project root for license information.\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Constants } from \"./constants\";\n/**\r\n * A constant that indicates whether the environment is node.js or browser based.\r\n */\n\nexport var isNode = typeof process !== \"undefined\" && !!process.version && !!process.versions && !!process.versions.node;\n/**\r\n * Checks if a parsed URL is HTTPS\r\n *\r\n * @param {object} urlToCheck The url to check\r\n * @return {boolean} True if the URL is HTTPS; false otherwise.\r\n */\n\nexport function urlIsHTTPS(urlToCheck) {\n  return urlToCheck.protocol.toLowerCase() === Constants.HTTPS;\n}\n/**\r\n * Encodes an URI.\r\n *\r\n * @param {string} uri The URI to be encoded.\r\n * @return {string} The encoded URI.\r\n */\n\nexport function encodeUri(uri) {\n  return encodeURIComponent(uri).replace(/!/g, \"%21\").replace(/\"/g, \"%27\").replace(/\\(/g, \"%28\").replace(/\\)/g, \"%29\").replace(/\\*/g, \"%2A\");\n}\n/**\r\n * Returns a stripped version of the Http Response which only contains body,\r\n * headers and the status.\r\n *\r\n * @param {HttpOperationResponse} response The Http Response\r\n *\r\n * @return {object} The stripped version of Http Response.\r\n */\n\nexport function stripResponse(response) {\n  var strippedResponse = {};\n  strippedResponse.body = response.bodyAsText;\n  strippedResponse.headers = response.headers;\n  strippedResponse.status = response.status;\n  return strippedResponse;\n}\n/**\r\n * Returns a stripped version of the Http Request that does not contain the\r\n * Authorization header.\r\n *\r\n * @param {WebResource} request The Http Request object\r\n *\r\n * @return {WebResource} The stripped version of Http Request.\r\n */\n\nexport function stripRequest(request) {\n  var strippedRequest = request.clone();\n\n  if (strippedRequest.headers) {\n    strippedRequest.headers.remove(\"authorization\");\n  }\n\n  return strippedRequest;\n}\n/**\r\n * Validates the given uuid as a string\r\n *\r\n * @param {string} uuid The uuid as a string that needs to be validated\r\n *\r\n * @return {boolean} True if the uuid is valid; false otherwise.\r\n */\n\nexport function isValidUuid(uuid) {\n  var validUuidRegex = new RegExp(\"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$\", \"ig\");\n  return validUuidRegex.test(uuid);\n}\n/**\r\n * Provides an array of values of an object. For example\r\n * for a given object { \"a\": \"foo\", \"b\": \"bar\" }, the method returns [\"foo\", \"bar\"].\r\n *\r\n * @param {object} obj An object whose properties need to be enumerated so that it\"s values can be provided as an array\r\n *\r\n * @return {any[]} An array of values of the given object.\r\n */\n\nexport function objectValues(obj) {\n  var result = [];\n\n  if (obj && obj instanceof Object) {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        result.push(obj[key]);\n      }\n    }\n  } else {\n    throw new Error(\"The provided object \" + JSON.stringify(obj, undefined, 2) + \" is not a valid object that can be \" + \"enumerated to provide its values as an array.\");\n  }\n\n  return result;\n}\n/**\r\n * Generated UUID\r\n *\r\n * @return {string} RFC4122 v4 UUID.\r\n */\n\nexport function generateUuid() {\n  return uuidv4();\n}\n/**\r\n * Executes an array of promises sequentially. Inspiration of this method is here:\r\n * https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html. An awesome blog on promises!\r\n *\r\n * @param {Array} promiseFactories An array of promise factories(A function that return a promise)\r\n *\r\n * @param {any} [kickstart] Input to the first promise that is used to kickstart the promise chain.\r\n * If not provided then the promise chain starts with undefined.\r\n *\r\n * @return A chain of resolved or rejected promises\r\n */\n\nexport function executePromisesSequentially(promiseFactories, kickstart) {\n  var result = Promise.resolve(kickstart);\n  promiseFactories.forEach(function (promiseFactory) {\n    result = result.then(promiseFactory);\n  });\n  return result;\n}\n/**\r\n * Merges source object into the target object\r\n * @param {object} source The object that needs to be merged\r\n *\r\n * @param {object} target The object to be merged into\r\n *\r\n * @returns {object} Returns the merged target object.\r\n */\n\nexport function mergeObjects(source, target) {\n  Object.keys(source).forEach(function (key) {\n    target[key] = source[key];\n  });\n  return target;\n}\n/**\r\n * A wrapper for setTimeout that resolves a promise after t milliseconds.\r\n * @param {number} t The number of milliseconds to be delayed.\r\n * @param {T} value The value to be resolved with after a timeout of t milliseconds.\r\n * @returns {Promise<T>} Resolved promise\r\n */\n\nexport function delay(t, value) {\n  return new Promise(function (resolve) {\n    return setTimeout(function () {\n      return resolve(value);\n    }, t);\n  });\n}\n/**\r\n * Converts a Promise to a callback.\r\n * @param {Promise<any>} promise The Promise to be converted to a callback\r\n * @returns {Function} A function that takes the callback (cb: Function): void\r\n * @deprecated generated code should instead depend on responseToBody\r\n */\n\nexport function promiseToCallback(promise) {\n  if (typeof promise.then !== \"function\") {\n    throw new Error(\"The provided input is not a Promise.\");\n  }\n\n  return function (cb) {\n    promise.then(function (data) {\n      cb(undefined, data);\n    }, function (err) {\n      cb(err);\n    });\n  };\n}\n/**\r\n * Converts a Promise to a service callback.\r\n * @param {Promise<HttpOperationResponse>} promise - The Promise of HttpOperationResponse to be converted to a service callback\r\n * @returns {Function} A function that takes the service callback (cb: ServiceCallback<T>): void\r\n */\n\nexport function promiseToServiceCallback(promise) {\n  if (typeof promise.then !== \"function\") {\n    throw new Error(\"The provided input is not a Promise.\");\n  }\n\n  return function (cb) {\n    promise.then(function (data) {\n      process.nextTick(cb, undefined, data.parsedBody, data.request, data);\n    }, function (err) {\n      process.nextTick(cb, err);\n    });\n  };\n}\nexport function prepareXMLRootList(obj, elementName) {\n  var _a;\n\n  if (!Array.isArray(obj)) {\n    obj = [obj];\n  }\n\n  return _a = {}, _a[elementName] = obj, _a;\n}\n/**\r\n * Applies the properties on the prototype of sourceCtors to the prototype of targetCtor\r\n * @param {object} targetCtor The target object on which the properties need to be applied.\r\n * @param {Array<object>} sourceCtors An array of source objects from which the properties need to be taken.\r\n */\n\nexport function applyMixins(targetCtor, sourceCtors) {\n  sourceCtors.forEach(function (sourceCtors) {\n    Object.getOwnPropertyNames(sourceCtors.prototype).forEach(function (name) {\n      targetCtor.prototype[name] = sourceCtors.prototype[name];\n    });\n  });\n}\nvar validateISODuration = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n/**\r\n * Indicates whether the given string is in ISO 8601 format.\r\n * @param {string} value The value to be validated for ISO 8601 duration format.\r\n * @return {boolean} `true` if valid, `false` otherwise.\r\n */\n\nexport function isDuration(value) {\n  return validateISODuration.test(value);\n}\n/**\r\n * Replace all of the instances of searchValue in value with the provided replaceValue.\r\n * @param {string | undefined} value The value to search and replace in.\r\n * @param {string} searchValue The value to search for in the value argument.\r\n * @param {string} replaceValue The value to replace searchValue with in the value argument.\r\n * @returns {string | undefined} The value where each instance of searchValue was replaced with replacedValue.\r\n */\n\nexport function replaceAll(value, searchValue, replaceValue) {\n  return !value || !searchValue ? value : value.split(searchValue).join(replaceValue || \"\");\n}\n/**\r\n * Determines whether the given enity is a basic/primitive type\r\n * (string, number, boolean, null, undefined).\r\n * @param value Any entity\r\n * @return boolean - true is it is primitive type, false otherwise.\r\n */\n\nexport function isPrimitiveType(value) {\n  return typeof value !== \"object\" && typeof value !== \"function\" || value === null;\n}","map":{"version":3,"sources":["../../../lib/util/utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License. See License.txt in the project root for license information.\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Constants } from \"./constants\";\r\n/**\r\n * A constant that indicates whether the environment is node.js or browser based.\r\n */\r\nexport var isNode = typeof process !== \"undefined\" &&\r\n    !!process.version &&\r\n    !!process.versions &&\r\n    !!process.versions.node;\r\n/**\r\n * Checks if a parsed URL is HTTPS\r\n *\r\n * @param {object} urlToCheck The url to check\r\n * @return {boolean} True if the URL is HTTPS; false otherwise.\r\n */\r\nexport function urlIsHTTPS(urlToCheck) {\r\n    return urlToCheck.protocol.toLowerCase() === Constants.HTTPS;\r\n}\r\n/**\r\n * Encodes an URI.\r\n *\r\n * @param {string} uri The URI to be encoded.\r\n * @return {string} The encoded URI.\r\n */\r\nexport function encodeUri(uri) {\r\n    return encodeURIComponent(uri)\r\n        .replace(/!/g, \"%21\")\r\n        .replace(/\"/g, \"%27\")\r\n        .replace(/\\(/g, \"%28\")\r\n        .replace(/\\)/g, \"%29\")\r\n        .replace(/\\*/g, \"%2A\");\r\n}\r\n/**\r\n * Returns a stripped version of the Http Response which only contains body,\r\n * headers and the status.\r\n *\r\n * @param {HttpOperationResponse} response The Http Response\r\n *\r\n * @return {object} The stripped version of Http Response.\r\n */\r\nexport function stripResponse(response) {\r\n    var strippedResponse = {};\r\n    strippedResponse.body = response.bodyAsText;\r\n    strippedResponse.headers = response.headers;\r\n    strippedResponse.status = response.status;\r\n    return strippedResponse;\r\n}\r\n/**\r\n * Returns a stripped version of the Http Request that does not contain the\r\n * Authorization header.\r\n *\r\n * @param {WebResource} request The Http Request object\r\n *\r\n * @return {WebResource} The stripped version of Http Request.\r\n */\r\nexport function stripRequest(request) {\r\n    var strippedRequest = request.clone();\r\n    if (strippedRequest.headers) {\r\n        strippedRequest.headers.remove(\"authorization\");\r\n    }\r\n    return strippedRequest;\r\n}\r\n/**\r\n * Validates the given uuid as a string\r\n *\r\n * @param {string} uuid The uuid as a string that needs to be validated\r\n *\r\n * @return {boolean} True if the uuid is valid; false otherwise.\r\n */\r\nexport function isValidUuid(uuid) {\r\n    var validUuidRegex = new RegExp(\"^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$\", \"ig\");\r\n    return validUuidRegex.test(uuid);\r\n}\r\n/**\r\n * Provides an array of values of an object. For example\r\n * for a given object { \"a\": \"foo\", \"b\": \"bar\" }, the method returns [\"foo\", \"bar\"].\r\n *\r\n * @param {object} obj An object whose properties need to be enumerated so that it\"s values can be provided as an array\r\n *\r\n * @return {any[]} An array of values of the given object.\r\n */\r\nexport function objectValues(obj) {\r\n    var result = [];\r\n    if (obj && obj instanceof Object) {\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                result.push(obj[key]);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        throw new Error(\"The provided object \" + JSON.stringify(obj, undefined, 2) + \" is not a valid object that can be \" + \"enumerated to provide its values as an array.\");\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Generated UUID\r\n *\r\n * @return {string} RFC4122 v4 UUID.\r\n */\r\nexport function generateUuid() {\r\n    return uuidv4();\r\n}\r\n/**\r\n * Executes an array of promises sequentially. Inspiration of this method is here:\r\n * https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html. An awesome blog on promises!\r\n *\r\n * @param {Array} promiseFactories An array of promise factories(A function that return a promise)\r\n *\r\n * @param {any} [kickstart] Input to the first promise that is used to kickstart the promise chain.\r\n * If not provided then the promise chain starts with undefined.\r\n *\r\n * @return A chain of resolved or rejected promises\r\n */\r\nexport function executePromisesSequentially(promiseFactories, kickstart) {\r\n    var result = Promise.resolve(kickstart);\r\n    promiseFactories.forEach(function (promiseFactory) {\r\n        result = result.then(promiseFactory);\r\n    });\r\n    return result;\r\n}\r\n/**\r\n * Merges source object into the target object\r\n * @param {object} source The object that needs to be merged\r\n *\r\n * @param {object} target The object to be merged into\r\n *\r\n * @returns {object} Returns the merged target object.\r\n */\r\nexport function mergeObjects(source, target) {\r\n    Object.keys(source).forEach(function (key) {\r\n        target[key] = source[key];\r\n    });\r\n    return target;\r\n}\r\n/**\r\n * A wrapper for setTimeout that resolves a promise after t milliseconds.\r\n * @param {number} t The number of milliseconds to be delayed.\r\n * @param {T} value The value to be resolved with after a timeout of t milliseconds.\r\n * @returns {Promise<T>} Resolved promise\r\n */\r\nexport function delay(t, value) {\r\n    return new Promise(function (resolve) { return setTimeout(function () { return resolve(value); }, t); });\r\n}\r\n/**\r\n * Converts a Promise to a callback.\r\n * @param {Promise<any>} promise The Promise to be converted to a callback\r\n * @returns {Function} A function that takes the callback (cb: Function): void\r\n * @deprecated generated code should instead depend on responseToBody\r\n */\r\nexport function promiseToCallback(promise) {\r\n    if (typeof promise.then !== \"function\") {\r\n        throw new Error(\"The provided input is not a Promise.\");\r\n    }\r\n    return function (cb) {\r\n        promise.then(function (data) {\r\n            cb(undefined, data);\r\n        }, function (err) {\r\n            cb(err);\r\n        });\r\n    };\r\n}\r\n/**\r\n * Converts a Promise to a service callback.\r\n * @param {Promise<HttpOperationResponse>} promise - The Promise of HttpOperationResponse to be converted to a service callback\r\n * @returns {Function} A function that takes the service callback (cb: ServiceCallback<T>): void\r\n */\r\nexport function promiseToServiceCallback(promise) {\r\n    if (typeof promise.then !== \"function\") {\r\n        throw new Error(\"The provided input is not a Promise.\");\r\n    }\r\n    return function (cb) {\r\n        promise.then(function (data) {\r\n            process.nextTick(cb, undefined, data.parsedBody, data.request, data);\r\n        }, function (err) {\r\n            process.nextTick(cb, err);\r\n        });\r\n    };\r\n}\r\nexport function prepareXMLRootList(obj, elementName) {\r\n    var _a;\r\n    if (!Array.isArray(obj)) {\r\n        obj = [obj];\r\n    }\r\n    return _a = {}, _a[elementName] = obj, _a;\r\n}\r\n/**\r\n * Applies the properties on the prototype of sourceCtors to the prototype of targetCtor\r\n * @param {object} targetCtor The target object on which the properties need to be applied.\r\n * @param {Array<object>} sourceCtors An array of source objects from which the properties need to be taken.\r\n */\r\nexport function applyMixins(targetCtor, sourceCtors) {\r\n    sourceCtors.forEach(function (sourceCtors) {\r\n        Object.getOwnPropertyNames(sourceCtors.prototype).forEach(function (name) {\r\n            targetCtor.prototype[name] = sourceCtors.prototype[name];\r\n        });\r\n    });\r\n}\r\nvar validateISODuration = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\r\n/**\r\n * Indicates whether the given string is in ISO 8601 format.\r\n * @param {string} value The value to be validated for ISO 8601 duration format.\r\n * @return {boolean} `true` if valid, `false` otherwise.\r\n */\r\nexport function isDuration(value) {\r\n    return validateISODuration.test(value);\r\n}\r\n/**\r\n * Replace all of the instances of searchValue in value with the provided replaceValue.\r\n * @param {string | undefined} value The value to search and replace in.\r\n * @param {string} searchValue The value to search for in the value argument.\r\n * @param {string} replaceValue The value to replace searchValue with in the value argument.\r\n * @returns {string | undefined} The value where each instance of searchValue was replaced with replacedValue.\r\n */\r\nexport function replaceAll(value, searchValue, replaceValue) {\r\n    return !value || !searchValue ? value : value.split(searchValue).join(replaceValue || \"\");\r\n}\r\n/**\r\n * Determines whether the given enity is a basic/primitive type\r\n * (string, number, boolean, null, undefined).\r\n * @param value Any entity\r\n * @return boolean - true is it is primitive type, false otherwise.\r\n */\r\nexport function isPrimitiveType(value) {\r\n    return (typeof value !== \"object\" && typeof value !== \"function\") || value === null;\r\n}\r\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"module"}