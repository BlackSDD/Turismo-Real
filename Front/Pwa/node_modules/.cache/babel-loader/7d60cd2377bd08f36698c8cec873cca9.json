{"ast":null,"code":"import _defineProperty from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Component}from\"react\";//servicios\n// import {Apiurl} from '../services/apirest';\n//libreria\nimport axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ComunaEdi=/*#__PURE__*/function(_Component){_inherits(ComunaEdi,_Component);var _super=_createSuper(ComunaEdi);function ComunaEdi(){var _this;_classCallCheck(this,ComunaEdi);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={comuna:[],id_com:'',nom_com:''};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var updatedComuna;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();updatedComuna={nom_com:_this.state.nom_com};_context.next=4;return axios.put('http://localhost:4000/API/comuna/'+_this.state.id_com,updatedComuna);case 4:window.location.assign(\"http://localhost:3000/listarcomuna\");case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onInputChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(ComunaEdi,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('http://localhost:4000/API/comuna');case 2:res=_context2.sent;this.setState({comuna:res.data});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 offset-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card card-body\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"nueva comuna\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",value:this.state.id_com,onChange:this.onInputChange,name:\"id_com\",required:true,children:this.state.comuna.map(function(com){return/*#__PURE__*/_jsx(\"option\",{value:com.id_com,children:com.nom_com},com.id_com);})})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nom_com\",value:this.state.nom_com,placeholder:\"Ingrese nombre de la\",className:\"form-control \",onChange:this.onInputChange}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",children:[\"Save \",/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"assignment\"})]})]})]})});}}]);return ComunaEdi;}(Component);export{ComunaEdi as default};","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/src/components/Views/put/Comuna.jsx"],"names":["React","Component","axios","ComunaEdi","state","comuna","id_com","nom_com","onSubmit","e","preventDefault","updatedComuna","put","window","location","assign","onInputChange","setState","target","name","value","get","res","data","map","com"],"mappings":"0qCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,SAAT,KAA0B,OAA1B,CAEA;AACA;AAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEqBC,CAAAA,S,uUAEjBC,K,CAAO,CACHC,MAAM,CAAG,EADN,CAEHC,MAAM,CAAE,EAFL,CAGHC,OAAO,CAAE,EAHN,C,OAqBPC,Q,0FAAW,iBAAOC,CAAP,oIACPA,CAAC,CAACC,cAAF,GACUC,aAFH,CAEmB,CAClBJ,OAAO,CAAG,MAAKH,KAAL,CAAWG,OADH,CAFnB,uBAKGL,CAAAA,KAAK,CAACU,GAAN,CAAU,oCAAsC,MAAKR,KAAL,CAAWE,MAA3D,CAAmEK,aAAnE,CALH,QAOHE,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,oCAAvB,EAPG,sD,qEAaXC,a,CAAgB,SAACP,CAAD,CAAO,CACnB,MAAKQ,QAAL,oBAAgBR,CAAC,CAACS,MAAF,CAASC,IAAzB,CAAgCV,CAAC,CAACS,MAAF,CAASE,KAAzC,GACH,C,gKA1BD,uKAEsBlB,CAAAA,KAAK,CAACmB,GAAN,CAAU,kCAAV,CAFtB,QAEUC,GAFV,gBAGI,KAAKL,QAAL,CAAc,CACVZ,MAAM,CAAEiB,GAAG,CAACC,IADF,CAAd,EAHJ,6D,mIA4BA,iBAAQ,CAEA,mBACI,YAAK,SAAS,CAAC,sBAAf,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,oCADJ,cAEI,cAAM,QAAQ,CAAE,KAAKf,QAArB,wBAEA,YAAK,SAAS,CAAC,YAAf,uBACQ,eACI,SAAS,CAAC,cADd,CAEI,KAAK,CAAE,KAAKJ,KAAL,CAAWE,MAFtB,CAGI,QAAQ,CAAE,KAAKU,aAHnB,CAII,IAAI,CAAC,QAJT,CAKI,QAAQ,KALZ,UAOQ,KAAKZ,KAAL,CAAWC,MAAX,CAAkBmB,GAAlB,CAAsB,SAAAC,GAAG,qBACrB,eAAyB,KAAK,CAAEA,GAAG,CAACnB,MAApC,UACKmB,GAAG,CAAClB,OADT,EAAakB,GAAG,CAACnB,MAAjB,CADqB,EAAzB,CAPR,EADR,EAFA,cAoBA,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,KAAK,CAAE,KAAKF,KAAL,CAAWG,OAApD,CAA8D,WAAW,CAAC,sBAA1E,CAAiG,SAAS,CAAC,eAA3G,CAA2H,QAAQ,CAAE,KAAKS,aAA1I,EApBA,cAuBI,gBAAQ,SAAS,CAAC,iBAAlB,gCACK,UAAG,SAAS,CAAC,gBAAb,wBADL,GAvBJ,GAFJ,GADJ,EADJ,CAqCH,C,uBA/E8Bf,S,SAAlBE,S","sourcesContent":["import React from \"react\";\r\n\r\nimport { Component } from \"react\";\r\n\r\n//servicios\r\n// import {Apiurl} from '../services/apirest';\r\n\r\n//libreria\r\nimport axios from 'axios';\r\n\r\nexport default class ComunaEdi extends Component{\r\n\r\n    state ={\r\n        comuna : [],\r\n        id_com: '',\r\n        nom_com: '',\r\n\r\n    }\r\n\r\n    \r\n\r\n\r\n    async componentDidMount() {\r\n\r\n        const res = await axios.get('http://localhost:4000/API/comuna');\r\n        this.setState({\r\n            comuna: res.data\r\n        });\r\n    }\r\n     \r\n    \r\n\r\n\r\n    onSubmit = async (e) => {\r\n        e.preventDefault();\r\n            const updatedComuna = {\r\n                nom_com : this.state.nom_com\r\n            };\r\n            await axios.put('http://localhost:4000/API/comuna/' + this.state.id_com, updatedComuna);\r\n        \r\n            window.location.assign(\"http://localhost:3000/listarcomuna\");\r\n\r\n    }\r\n\r\n\r\n\r\n    onInputChange = (e) => {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    render(){\r\n        \r\n            return (\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <div className=\"card card-body\">\r\n                        <h4>nueva comuna</h4>\r\n                        <form onSubmit={this.onSubmit}>\r\n\r\n                        <div className=\"form-group\">\r\n                                <select\r\n                                    className=\"form-control\"\r\n                                    value={this.state.id_com}\r\n                                    onChange={this.onInputChange}\r\n                                    name=\"id_com\"\r\n                                    required>\r\n                                    {\r\n                                        this.state.comuna.map(com => (\r\n                                            <option key={com.id_com} value={com.id_com}>\r\n                                                {com.nom_com}\r\n                                            </option>\r\n                                        ))\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n\r\n\r\n                        <input type=\"text\" name=\"nom_com\" value={this.state.nom_com}  placeholder=\"Ingrese nombre de la\" className=\"form-control \" onChange={this.onInputChange}/>\r\n\r\n\r\n                            <button className=\"btn btn-primary\">\r\n                            Save <i className=\"material-icons\">\r\n                                assignment\r\n</i>\r\n                        </button>\r\n                                    \r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}