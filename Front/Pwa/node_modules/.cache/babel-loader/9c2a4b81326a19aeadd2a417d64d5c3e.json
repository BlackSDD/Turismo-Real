{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import'../../../assetss/css/ListaDeptos.css';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';///import PWA\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/*#__PURE__*/_jsx(\"link\",{rel:\"manifest\",href:\"../../public/manifest.json\"});toast.configure({});var notifyS=function notifyS(){toast.success('Operación realizada con éxito');};var notifyE=function notifyE(){toast.error('Operación cancelada');};var UsuarioList=/*#__PURE__*/function(_Component){_inherits(UsuarioList,_Component);var _super=_createSuper(UsuarioList);function UsuarioList(){var _this;_classCallCheck(this,UsuarioList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={usuario:[]};_this.getUsuario=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:4000/API/usuario');case 2:res=_context.sent;_this.setState({usuario:res.data});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.Suspender=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Id){var answer;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:answer=window.confirm(\"¿Estas Seguro?\");if(!answer){_context2.next=7;break;}_context2.next=4;return axios.put('http://localhost:4000/API/suspenderUsuario/'+Id);case 4:notifyS();_context2.next=8;break;case 7:notifyE();case 8:_this.getUsuario();case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.Validar=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(Id){var answer;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:answer=window.confirm(\"¿Estas Seguro?\");if(!answer){_context3.next=7;break;}_context3.next=4;return axios.put('http://localhost:4000/API/validarUsuario/'+Id);case 4:notifyS();_context3.next=8;break;case 7:notifyE();case 8:_this.getUsuario();case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();return _this;}_createClass(UsuarioList,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.getUsuario();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[this.state.usuario.map(function(usr){return/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-3 col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"nombre: \",usr.nom_usr,\"  \",usr.appat_usr,\" \",usr.apmat_usr]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"RUT: \",usr.rut_usr,\"-\",usr.dv_usr]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Telefono de contacto:  \",usr.tel_usr]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Correo de contacto :   \",usr.email_usr]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cantidad de reservas :   \",usr.cant_res]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Estado cuenta :   \",usr.est_cta]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tipo cuenta :   \",usr.tipo_cli]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return _this2.Suspender(usr.id_usr);},children:\"SUSPENDER USUARIO\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return _this2.Validar(usr.id_usr);},children:\"VALIDAR USUARIO\"})})]},usr.id_usr);}),/*#__PURE__*/_jsx(Link,{to:\"/UsuarioNew\",className:\"btn btn-secondary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"INGRESAR USUARIO\"})}),/*#__PURE__*/_jsx(Link,{to:\"/UsuarioEdi\",className:\"btn btn-secondary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\" EDITAR USUARIO\"})})]})});}}]);return UsuarioList;}(Component);export{UsuarioList as default};","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/src/components/Views/Usuario/UsuarioList.jsx"],"names":["React","Component","axios","Link","toast","configure","notifyS","success","notifyE","error","UsuarioList","state","usuario","getUsuario","get","res","setState","data","Suspender","Id","answer","window","confirm","put","Validar","map","usr","nom_usr","appat_usr","apmat_usr","rut_usr","dv_usr","tel_usr","email_usr","cant_res","est_cta","tipo_cli","id_usr"],"mappings":"2/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,sCAAP,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAO,uCAAP,CACA;wFACA,0BAAM,GAAG,CAAC,UAAV,CAAqB,IAAI,CAAC,4BAA1B,GAEAA,KAAK,CAACC,SAAN,CAAgB,EAAhB,EAIA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAK,CACjBF,KAAK,CAACG,OAAN,CAAc,+BAAd,EACH,CAFD,CAGA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAK,CACjBJ,KAAK,CAACK,KAAN,CAAY,qBAAZ,EACH,CAFD,C,GAIqBC,CAAAA,W,+UAEjBC,K,CAAQ,CACJC,OAAO,CAAE,EADL,C,OAQRC,U,sEAAa,iKACSX,CAAAA,KAAK,CAACY,GAAN,CAAU,mCAAV,CADT,QACHC,GADG,eAET,MAAKC,QAAL,CAAc,CACVJ,OAAO,CAAEG,GAAG,CAACE,IADH,CAAd,EAFS,sD,SAObC,S,2FAAY,kBAAOC,EAAP,iIACFC,MADE,CACOC,MAAM,CAACC,OAAP,CAAe,gBAAf,CADP,KAEJF,MAFI,iDAGElB,CAAAA,KAAK,CAACqB,GAAN,CAAU,8CAAgDJ,EAA1D,CAHF,QAIJb,OAAO,GAJH,8BAMJE,OAAO,GANH,OAQR,MAAKK,UAAL,GARQ,wD,sEAYZW,O,2FAAU,kBAAOL,EAAP,iIAEAC,MAFA,CAESC,MAAM,CAACC,OAAP,CAAe,gBAAf,CAFT,KAGFF,MAHE,iDAIIlB,CAAAA,KAAK,CAACqB,GAAN,CAAU,4CAA8CJ,EAAxD,CAJJ,QAKFb,OAAO,GALL,8BAOFE,OAAO,GAPL,OASN,MAAKK,UAAL,GATM,wD,kOAvBV,wIACI,KAAKA,UAAL,GADJ,6D,mIAmCA,iBAAS,iBACL,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,KAAf,WAGQ,KAAKF,KAAL,CAAWC,OAAX,CAAmBa,GAAnB,CAAuB,SAAAC,GAAG,qBACtB,aAAK,SAAS,CAAC,mBAAf,wBACY,aAAK,SAAS,CAAC,WAAf,wBACA,gCACWA,GAAG,CAACC,OADf,MAC0BD,GAAG,CAACE,SAD9B,KAC0CF,GAAG,CAACG,SAD9C,GADA,cAIA,6BACQH,GAAG,CAACI,OADZ,KACsBJ,GAAG,CAACK,MAD1B,GAJA,cAOA,+CAC0BL,GAAG,CAACM,OAD9B,GAPA,cAUA,+CAC0BN,GAAG,CAACO,SAD9B,GAVA,cAaA,iDAC4BP,GAAG,CAACQ,QADhC,GAbA,cAgBA,0CACqBR,GAAG,CAACS,OADzB,GAhBA,cAmBA,wCACmBT,GAAG,CAACU,QADvB,GAnBA,GADZ,cAyBQ,YAAK,SAAS,CAAC,aAAf,uBACI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAClB,SAAL,CAAeQ,GAAG,CAACW,MAAnB,CAAN,EAA5C,+BADJ,EAzBR,cA8BQ,YAAK,SAAS,CAAC,aAAf,uBACI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACb,OAAL,CAAaE,GAAG,CAACW,MAAjB,CAAN,EAA5C,6BADJ,EA9BR,GAAwCX,GAAG,CAACW,MAA5C,CADsB,EAA1B,CAHR,cA2CQ,KAAC,IAAD,EAAM,EAAE,CAAE,aAAV,CAAyB,SAAS,CAAC,mBAAnC,uBACI,UAAG,SAAS,CAAC,gBAAb,8BADJ,EA3CR,cA+CQ,KAAC,IAAD,EAAM,EAAE,CAAE,aAAV,CAAyB,SAAS,CAAC,mBAAnC,uBACI,UAAG,SAAS,CAAC,gBAAb,6BADJ,EA/CR,GADJ,EADJ,CAwDH,C,yBAlGoCpC,S,SAApBS,W","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport '../../../assetss/css/ListaDeptos.css';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n///import PWA\r\n<link rel=\"manifest\" href=\"../../public/manifest.json\"></link>\r\n\r\ntoast.configure({\r\n\r\n});\r\n \r\nconst notifyS = () =>{\r\n    toast.success('Operación realizada con éxito');\r\n};\r\nconst notifyE = () =>{\r\n    toast.error('Operación cancelada');\r\n};\r\n\r\nexport default class UsuarioList extends Component {\r\n\r\n    state = {\r\n        usuario: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        this.getUsuario();\r\n    }\r\n\r\n    getUsuario = async () => {\r\n        const res = await axios.get('http://localhost:4000/API/usuario')\r\n        this.setState({\r\n            usuario: res.data\r\n        })\r\n    }\r\n\r\n    Suspender = async (Id) => {\r\n        const answer = window.confirm(\"¿Estas Seguro?\");\r\n        if (answer){\r\n            await axios.put('http://localhost:4000/API/suspenderUsuario/' + Id);\r\n            notifyS();\r\n        } else {\r\n            notifyE();\r\n        }\r\n        this.getUsuario();\r\n    };\r\n\r\n\r\n    Validar = async (Id) => {\r\n         \r\n        const answer = window.confirm(\"¿Estas Seguro?\");\r\n        if (answer){\r\n            await axios.put('http://localhost:4000/API/validarUsuario/' + Id);\r\n            notifyS();\r\n        } else {\r\n            notifyE();\r\n        }\r\n        this.getUsuario();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    \r\n                    {\r\n                        this.state.usuario.map(usr => (\r\n                            <div className=\"col-sm-3 col-md-6\" key={usr.id_usr}>\r\n                                        <div className=\"card-body\">\r\n                                        <p>\r\n                                          nombre: {usr.nom_usr}  {usr.appat_usr} {usr.apmat_usr} \r\n                                        </p>\r\n                                        <p>\r\n                                          RUT: {usr.rut_usr}-{usr.dv_usr}\r\n                                        </p>\r\n                                        <p>\r\n                                          Telefono de contacto:  {usr.tel_usr}\r\n                                        </p>\r\n                                        <p>\r\n                                          Correo de contacto :   {usr.email_usr}\r\n                                        </p>\r\n                                        <p>\r\n                                          Cantidad de reservas :   {usr.cant_res}\r\n                                        </p>\r\n                                        <p>\r\n                                          Estado cuenta :   {usr.est_cta}\r\n                                        </p>\r\n                                        <p>\r\n                                          Tipo cuenta :   {usr.tipo_cli}\r\n                                        </p>\r\n\r\n                                        </div>\r\n                                    <div className=\"card-footer\">\r\n                                        <button className=\"btn btn-danger\" onClick={() => this.Suspender(usr.id_usr)}>\r\n                                            SUSPENDER USUARIO\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"card-footer\">\r\n                                        <button className=\"btn btn-danger\" onClick={() => this.Validar(usr.id_usr)}>\r\n                                            VALIDAR USUARIO\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                        ))\r\n                    }\r\n\r\n                        <Link to={\"/UsuarioNew\"} className=\"btn btn-secondary\">\r\n                            <i className=\"material-icons\">INGRESAR USUARIO</i>\r\n                        </Link>\r\n                            \r\n                        <Link to={\"/UsuarioEdi\"} className=\"btn btn-secondary\">\r\n                            <i className=\"material-icons\"> EDITAR USUARIO</i>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            \r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}