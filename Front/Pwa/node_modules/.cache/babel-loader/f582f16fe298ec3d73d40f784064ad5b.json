{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\matia\\\\Documents\\\\Git\\\\Turismo-Real\\\\front\\\\pwa\\\\src\\\\components\\\\Views\\\\Reservas\\\\Reserva.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PaypalCheckout from '../../Layouts/PaypalCheckout';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Navbar from '../../Layouts/Navbar';\nimport { useParams, useLocation } from 'react-router-dom';\nimport DatePicker from '../../Layouts/Date-Picker';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure({});\n\nconst notifyS = () => {\n  toast.success('Operación realizada con éxito', {\n    position: toast.POSITION.TOP_CENTER,\n    theme: \"colored\"\n  });\n};\n\nconst notifyE = () => {\n  toast.error('Operación cancelada', {\n    position: toast.POSITION.TOP_CENTER,\n    theme: \"colored\"\n  });\n};\n\nexport default function Reserva() {\n  _s();\n\n  // const location = useLocation();\n  // let  {id_depto}  = useParams();\n  let storage = parseInt(sessionStorage.id_d);\n  const [pago, setPago] = useState([]);\n  const [id_rva, setId_rva] = useState(null);\n  const [fechas, setFechas] = useState([]);\n  const [arrayF, setArrayF] = useState([]); // const [id_depto, setId_depto] = useState(location.state.id_d);\n\n  const [id_depto, setId_depto] = useState({});\n  useEffect(() => {\n    setId_depto({\n      \"id_dpto\": storage\n    });\n    console.log('storage: ', storage);\n    console.log('id depto:', id_depto);\n    getFechas(id_depto);\n  }, []);\n  useEffect(() => {\n    transformarFechas();\n  }, [fechas]);\n\n  const transformarFechas = () => {\n    const dates = fechas.map(e => {\n      let newFecha = new Date(e.fec_disp_no);\n      const val = newFecha.toLocaleDateString(\"en-US\", e.fec_disp_no);\n      return val;\n    });\n    setArrayF(dates);\n  };\n\n  const getFechas = async id => {\n    const res = await axios.post('http://localhost:4000/API/disponibilidadNoId', id);\n    setFechas(res.data);\n  }; // useEffect(()=>{\n  //     if (!id_rva) {\n  //         getMontoPago(id_rva);\n  //     };\n  // },[]);\n\n\n  const getMontoPago = async id => {\n    const res = await axios.get('http://localhost:4000/API/pago/montoPago/' + id);\n    setPago(res.data);\n    console.log(res);\n  };\n\n  function GenerarPago(props) {\n    const generarP = props.generar;\n\n    if (generarP) {\n      return PagoPaypal({\n        id_rva\n      });\n    }\n\n    ;\n    return console.log('Falta generar ordende reserva');\n  }\n\n  ;\n\n  function PagoPaypal(id_res) {\n    let myvar = pago.map(e => e.pago);\n    console.log({\n      myvar\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(PaypalCheckout, {\n        precio: myvar,\n        id_rva: id_res\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this);\n  }\n\n  ;\n  console.log('Inicio carga disponibilidad');\n  console.log('Fechas: ', fechas);\n  console.log('fechas ArrayF', arrayF);\n  console.log('End carga disponibilidad');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n      fechas: arrayF\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Boton\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Reserva, \"i/D9bcJ1YAHWl53NpJb54bl7TI8=\");\n\n_c = Reserva;\n\nvar _c;\n\n$RefreshReg$(_c, \"Reserva\");","map":{"version":3,"sources":["C:/Users/matia/Documents/Git/Turismo-Real/front/pwa/src/components/Views/Reservas/Reserva.jsx"],"names":["React","useEffect","useState","PaypalCheckout","axios","toast","Navbar","useParams","useLocation","DatePicker","configure","notifyS","success","position","POSITION","TOP_CENTER","theme","notifyE","error","Reserva","storage","parseInt","sessionStorage","id_d","pago","setPago","id_rva","setId_rva","fechas","setFechas","arrayF","setArrayF","id_depto","setId_depto","console","log","getFechas","transformarFechas","dates","map","e","newFecha","Date","fec_disp_no","val","toLocaleDateString","id","res","post","data","getMontoPago","get","GenerarPago","props","generarP","generar","PagoPaypal","id_res","myvar"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PaypalCheckout from '../../Layouts/PaypalCheckout';\r\nimport axios from 'axios';\r\nimport {toast} from 'react-toastify';\r\nimport Navbar from '../../Layouts/Navbar';\r\nimport { useParams, useLocation } from 'react-router-dom';\r\nimport DatePicker from '../../Layouts/Date-Picker';\r\n\r\ntoast.configure({\r\n});\r\n\r\nconst notifyS = () =>{\r\n    toast.success('Operación realizada con éxito',{\r\n        position: toast.POSITION.TOP_CENTER,\r\n        theme: \"colored\"\r\n    });\r\n};\r\n\r\nconst notifyE = () =>{\r\n    toast.error('Operación cancelada',{\r\n        position: toast.POSITION.TOP_CENTER,\r\n        theme: \"colored\"\r\n    });\r\n};\r\n\r\nexport default function Reserva() {\r\n    // const location = useLocation();\r\n    // let  {id_depto}  = useParams();\r\n    let storage = parseInt(sessionStorage.id_d);\r\n    const [pago, setPago] = useState([]);\r\n    const [id_rva, setId_rva] = useState(null);\r\n    const [fechas, setFechas] = useState([]);\r\n    const [arrayF, setArrayF] = useState([]);\r\n    // const [id_depto, setId_depto] = useState(location.state.id_d);\r\n\r\n    const[id_depto, setId_depto] = useState({});\r\n\r\n    useEffect(() =>{\r\n        setId_depto({\r\n            \"id_dpto\" : storage\r\n        });\r\n        console.log('storage: ', storage);\r\n        console.log('id depto:', id_depto);\r\n        getFechas(id_depto);\r\n    },[]);\r\n  \r\n    useEffect(() => {\r\n        transformarFechas();\r\n    }, [fechas]);\r\n    \r\n    const transformarFechas = () =>{\r\n        const dates = fechas.map((e) => {\r\n            let newFecha = new Date(e.fec_disp_no);\r\n            const val = newFecha.toLocaleDateString(\"en-US\", e.fec_disp_no);\r\n            return val;\r\n            })\r\n        setArrayF(dates);\r\n    };\r\n\r\n    const getFechas = async (id) =>{\r\n        const res = await axios.post('http://localhost:4000/API/disponibilidadNoId', id)\r\n        setFechas(res.data);\r\n    };\r\n\r\n    // useEffect(()=>{\r\n    //     if (!id_rva) {\r\n    //         getMontoPago(id_rva);\r\n    //     };\r\n    // },[]);\r\n\r\n    const getMontoPago = async (id) =>{\r\n        const res = await axios.get('http://localhost:4000/API/pago/montoPago/' + id)\r\n        setPago(res.data);\r\n        console.log(res);\r\n    }\r\n    \r\n    function GenerarPago(props){\r\n        const generarP = props.generar;\r\n        if (generarP) {\r\n           return PagoPaypal({id_rva})\r\n        };\r\n        return console.log('Falta generar ordende reserva');\r\n    };\r\n\r\n    function PagoPaypal(id_res){\r\n        let myvar = pago.map((e)=>e.pago);\r\n        console.log({myvar});\r\n        return(\r\n            <div>\r\n                <PaypalCheckout\r\n                    precio = {myvar}\r\n                    id_rva = {id_res}\r\n                />\r\n            </div>);\r\n    };\r\n    \r\n    console.log('Inicio carga disponibilidad');\r\n    console.log('Fechas: ',fechas);\r\n    console.log('fechas ArrayF', arrayF);\r\n    console.log('End carga disponibilidad');\r\n\r\n    return (\r\n        <div>\r\n            {/* <Navbar/> */}\r\n            <DatePicker\r\n                fechas={arrayF}\r\n            />                \r\n            {/* <GenerarPago generar={false}/> */}\r\n            <button>\r\n                Boton\r\n            </button>\r\n        </div>\r\n    )    \r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}