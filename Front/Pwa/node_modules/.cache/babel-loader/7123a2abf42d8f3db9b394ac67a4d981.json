{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar TimeoutError_1 = require(\"./TimeoutError\");\n\nvar utils_1 = require(\"./utils\");\n\nvar PendingOperation = /*#__PURE__*/function () {\n  function PendingOperation(timeoutMillis) {\n    var _this = this;\n\n    _classCallCheck(this, PendingOperation);\n\n    this.timeoutMillis = timeoutMillis;\n    this.deferred = utils_1.defer();\n    this.possibleTimeoutCause = null;\n    this.isRejected = false;\n    this.promise = timeout(this.deferred.promise, timeoutMillis).catch(function (err) {\n      if (err instanceof TimeoutError_1.TimeoutError) {\n        if (_this.possibleTimeoutCause) {\n          err = new TimeoutError_1.TimeoutError(_this.possibleTimeoutCause.message);\n        } else {\n          err = new TimeoutError_1.TimeoutError('operation timed out for an unknown reason');\n        }\n      }\n\n      _this.isRejected = true;\n      return Promise.reject(err);\n    });\n  }\n\n  _createClass(PendingOperation, [{\n    key: \"abort\",\n    value: function abort() {\n      this.reject(new Error('aborted'));\n    }\n  }, {\n    key: \"reject\",\n    value: function reject(err) {\n      this.deferred.reject(err);\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(value) {\n      this.deferred.resolve(value);\n    }\n  }]);\n\n  return PendingOperation;\n}();\n\nexports.PendingOperation = PendingOperation;\n\nfunction timeout(promise, time) {\n  return new Promise(function (resolve, reject) {\n    var timeoutHandle = setTimeout(function () {\n      return reject(new TimeoutError_1.TimeoutError());\n    }, time);\n    promise.then(function (result) {\n      clearTimeout(timeoutHandle);\n      resolve(result);\n    }).catch(function (err) {\n      clearTimeout(timeoutHandle);\n      reject(err);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/tarn/dist/PendingOperation.js"],"names":["Object","defineProperty","exports","value","TimeoutError_1","require","utils_1","PendingOperation","timeoutMillis","deferred","defer","possibleTimeoutCause","isRejected","promise","timeout","catch","err","TimeoutError","message","Promise","reject","Error","resolve","time","timeoutHandle","setTimeout","then","result","clearTimeout"],"mappings":"AAAA;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,cAAc,GAAGC,OAAO,CAAC,gBAAD,CAA9B;;AACA,IAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;IACME,gB;AACF,4BAAYC,aAAZ,EAA2B;AAAA;;AAAA;;AACvB,SAAKA,aAAL,GAAqBA,aAArB;AACA,SAAKC,QAAL,GAAgBH,OAAO,CAACI,KAAR,EAAhB;AACA,SAAKC,oBAAL,GAA4B,IAA5B;AACA,SAAKC,UAAL,GAAkB,KAAlB;AACA,SAAKC,OAAL,GAAeC,OAAO,CAAC,KAAKL,QAAL,CAAcI,OAAf,EAAwBL,aAAxB,CAAP,CAA8CO,KAA9C,CAAoD,UAAAC,GAAG,EAAI;AACtE,UAAIA,GAAG,YAAYZ,cAAc,CAACa,YAAlC,EAAgD;AAC5C,YAAI,KAAI,CAACN,oBAAT,EAA+B;AAC3BK,UAAAA,GAAG,GAAG,IAAIZ,cAAc,CAACa,YAAnB,CAAgC,KAAI,CAACN,oBAAL,CAA0BO,OAA1D,CAAN;AACH,SAFD,MAGK;AACDF,UAAAA,GAAG,GAAG,IAAIZ,cAAc,CAACa,YAAnB,CAAgC,2CAAhC,CAAN;AACH;AACJ;;AACD,MAAA,KAAI,CAACL,UAAL,GAAkB,IAAlB;AACA,aAAOO,OAAO,CAACC,MAAR,CAAeJ,GAAf,CAAP;AACH,KAXc,CAAf;AAYH;;;;WACD,iBAAQ;AACJ,WAAKI,MAAL,CAAY,IAAIC,KAAJ,CAAU,SAAV,CAAZ;AACH;;;WACD,gBAAOL,GAAP,EAAY;AACR,WAAKP,QAAL,CAAcW,MAAd,CAAqBJ,GAArB;AACH;;;WACD,iBAAQb,KAAR,EAAe;AACX,WAAKM,QAAL,CAAca,OAAd,CAAsBnB,KAAtB;AACH;;;;;;AAELD,OAAO,CAACK,gBAAR,GAA2BA,gBAA3B;;AACA,SAASO,OAAT,CAAiBD,OAAjB,EAA0BU,IAA1B,EAAgC;AAC5B,SAAO,IAAIJ,OAAJ,CAAY,UAACG,OAAD,EAAUF,MAAV,EAAqB;AACpC,QAAMI,aAAa,GAAGC,UAAU,CAAC;AAAA,aAAML,MAAM,CAAC,IAAIhB,cAAc,CAACa,YAAnB,EAAD,CAAZ;AAAA,KAAD,EAAkDM,IAAlD,CAAhC;AACAV,IAAAA,OAAO,CACFa,IADL,CACU,UAAAC,MAAM,EAAI;AAChBC,MAAAA,YAAY,CAACJ,aAAD,CAAZ;AACAF,MAAAA,OAAO,CAACK,MAAD,CAAP;AACH,KAJD,EAKKZ,KALL,CAKW,UAAAC,GAAG,EAAI;AACdY,MAAAA,YAAY,CAACJ,aAAD,CAAZ;AACAJ,MAAAA,MAAM,CAACJ,GAAD,CAAN;AACH,KARD;AASH,GAXM,CAAP;AAYH","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst TimeoutError_1 = require(\"./TimeoutError\");\r\nconst utils_1 = require(\"./utils\");\r\nclass PendingOperation {\r\n    constructor(timeoutMillis) {\r\n        this.timeoutMillis = timeoutMillis;\r\n        this.deferred = utils_1.defer();\r\n        this.possibleTimeoutCause = null;\r\n        this.isRejected = false;\r\n        this.promise = timeout(this.deferred.promise, timeoutMillis).catch(err => {\r\n            if (err instanceof TimeoutError_1.TimeoutError) {\r\n                if (this.possibleTimeoutCause) {\r\n                    err = new TimeoutError_1.TimeoutError(this.possibleTimeoutCause.message);\r\n                }\r\n                else {\r\n                    err = new TimeoutError_1.TimeoutError('operation timed out for an unknown reason');\r\n                }\r\n            }\r\n            this.isRejected = true;\r\n            return Promise.reject(err);\r\n        });\r\n    }\r\n    abort() {\r\n        this.reject(new Error('aborted'));\r\n    }\r\n    reject(err) {\r\n        this.deferred.reject(err);\r\n    }\r\n    resolve(value) {\r\n        this.deferred.resolve(value);\r\n    }\r\n}\r\nexports.PendingOperation = PendingOperation;\r\nfunction timeout(promise, time) {\r\n    return new Promise((resolve, reject) => {\r\n        const timeoutHandle = setTimeout(() => reject(new TimeoutError_1.TimeoutError()), time);\r\n        promise\r\n            .then(result => {\r\n            clearTimeout(timeoutHandle);\r\n            resolve(result);\r\n        })\r\n            .catch(err => {\r\n            clearTimeout(timeoutHandle);\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n"]},"metadata":{},"sourceType":"script"}