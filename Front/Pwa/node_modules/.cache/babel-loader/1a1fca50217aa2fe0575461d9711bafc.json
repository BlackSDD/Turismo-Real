{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Alert,Form}from'react-bootstrap';import'../assetss/css/Login.css';// import '../assetss/css/comon-body.css';\nimport'react-toastify/dist/ReactToastify.css';import{toast}from'react-toastify';import axios from\"axios\";import{useHistory,withRouter}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var notifyE=function notifyE(){toast.error('Correo y/o contraseña inválidos, asegúrese que las credenciales son correctas');};var notifyS=function notifyS(){toast.success('Inicio de sesión existoso, Bienvenido(a) Turismo Real');};var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={form:{email_usr:\"\",contr_usr:\"\"},error:false,errorMsg:\"\"};_this.manejadorChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({form:_objectSpread(_objectSpread({},_this.state.form),{},_defineProperty({},e.target.name,e.target.value))});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.manejadorBoton=function(){axios.post(\"http://localhost:4000/API/usuarioAutenticar\",_this.state.form).then(function(response){if(response.data==\"\"){notifyE();}else if(response.data[0].id_tipo_usr==\"1\"){notifyS();console.log(\"Admin\");_this.props.history.push(\"/departamento\");}else if(response.data[0].id_tipo_usr==\"2\"){notifyS();console.log(\"Funcionario\");_this.props.history.push(\"/condominio\");}else if(response.data[0].id_tipo_usr==\"3\"){notifyS();_this.props.history.push(\"/home\");}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){toast.configure({});function manejadorSubmit(e){e.preventDesafult();notifyS();}return/*#__PURE__*/_jsxs(\"div\",{id:\"login-body\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",id:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title-login\",children:\"Acceder a tu cuenta\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:manejadorSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Ingresa tu email\",name:\"email_usr\",onChange:this.manejadorChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Ingresa tu contrase\\xF1a\",name:\"contr_usr\",onChange:this.manejadorChange})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary\",onClick:this.manejadorBoton,children:\"Enviar Mensaje\"})]}),/*#__PURE__*/_jsx(\"div\",{name:\"noExiste\",class:\"alert alert-danger\",role:\"alert\",hidden:\"true\",children:\"This is a danger alert\\u2014check it out!\"})]}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/src/components/Login.jsx"],"names":["React","Alert","Form","toast","axios","useHistory","withRouter","notifyE","error","notifyS","success","Login","state","form","email_usr","contr_usr","errorMsg","manejadorChange","e","setState","target","name","value","manejadorBoton","post","then","response","data","id_tipo_usr","console","log","props","history","push","configure","manejadorSubmit","preventDesafult","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {Alert, Form} from 'react-bootstrap';\r\nimport '../assetss/css/Login.css';\r\n// import '../assetss/css/comon-body.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {toast} from 'react-toastify';\r\nimport axios from \"axios\";\r\nimport { useHistory, withRouter } from \"react-router\";\r\n\r\nconst notifyE = () =>{\r\n    toast.error('Correo y/o contraseña inválidos, asegúrese que las credenciales son correctas');\r\n};\r\n\r\nconst notifyS = () =>{\r\n    toast.success('Inicio de sesión existoso, Bienvenido(a) Turismo Real');\r\n};\r\n\r\n\r\nclass Login extends React.Component{\r\n\r\n    state = {\r\n        form:{\r\n            email_usr:\"\",\r\n            contr_usr:\"\"\r\n        },\r\n        error:false,\r\n        errorMsg:\"\"\r\n    }\r\n\r\n    manejadorChange = async e =>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n\r\n    manejadorBoton = () =>{\r\n        axios.post(\"http://localhost:4000/API/usuarioAutenticar\", this.state.form)\r\n        .then(response =>{\r\n            if(response.data == \"\")\r\n            {\r\n                notifyE();\r\n            }\r\n            else if(response.data[0].id_tipo_usr == \"1\")\r\n            {\r\n                notifyS();\r\n                console.log(\"Admin\")\r\n                this.props.history.push(\"/departamento\");\r\n            }\r\n            else if(response.data[0].id_tipo_usr ==\"2\")\r\n            {\r\n                notifyS();\r\n                console.log(\"Funcionario\")\r\n                this.props.history.push(\"/condominio\");\r\n            }\r\n            else if(response.data[0].id_tipo_usr ==\"3\")\r\n            {\r\n                notifyS();\r\n                this.props.history.push(\"/home\");\r\n\r\n            }\r\n\r\n\r\n        })\r\n    }\r\n\r\n    render(){\r\n        \r\n        toast.configure({\r\n        });\r\n        \r\n\r\n        function manejadorSubmit(e){\r\n            e.preventDesafult();\r\n            notifyS();\r\n        }\r\n\r\n\r\n        return(\r\n                <div id=\"login-body\">\r\n                    <br/>\r\n                    <div className=\"container\" id=\"login-container\">\r\n                        <div id=\"login\">\r\n                            <h1 id=\"title-login\">Acceder a tu cuenta</h1>\r\n                            <Form onSubmit={manejadorSubmit}>\r\n                                <Form.Group className=\"mb-3\" controlId=\"formGroupEmail\">\r\n                                    <Form.Label>Correo electrónico</Form.Label>\r\n                                    <Form.Control type=\"email\" placeholder=\"Ingresa tu email\" \r\n                                    name=\"email_usr\"\r\n                                    onChange={this.manejadorChange}\r\n                                    />\r\n                                </Form.Group>\r\n                                <Form.Group className=\"mb-3\" controlId=\"formGroupPassword\">\r\n                                    <Form.Label>Contraseña</Form.Label>\r\n                                    <Form.Control type=\"password\" placeholder=\"Ingresa tu contraseña\" \r\n                                    name=\"contr_usr\"\r\n                                    onChange={this.manejadorChange}\r\n                                    />\r\n                                </Form.Group>\r\n                            </Form>\r\n                            <button type=\"submit\" class=\"btn btn-primary\"\r\n                            onClick={this.manejadorBoton}\r\n                            >Enviar Mensaje</button>\r\n                            </div>\r\n                            <div name=\"noExiste\" class=\"alert alert-danger\" role=\"alert\" hidden=\"true\">\r\n                            This is a danger alert—check it out!\r\n                            </div>\r\n                    </div>\r\n                    <br/>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}