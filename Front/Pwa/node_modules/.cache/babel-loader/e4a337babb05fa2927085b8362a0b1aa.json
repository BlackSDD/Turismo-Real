{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useEffect,useState}from'react';import axios from'axios';import{useHistory}from'react-router-dom';import'../../../assetss/css/ListaDeptos.css';import Reservar from'../Reservas/Reserva';import building from'../../../assetss/img/building.png';import Navbar from'../../Layouts/Navbar.jsx';import{Button}from'react-bootstrap';import DatePicker from'../../Layouts/Date-Picker';///import PWA\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/*#__PURE__*/_jsx(\"link\",{rel:\"manifest\",href:\"../../public/manifest.json\"});export default function ListarDepto(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),deptos=_useState2[0],setDeptos=_useState2[1];// const [dispNo, setDispNo] = useState([]);\nvar history=useHistory();var getDeptos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:4000/API/departamento');case 2:res=_context.sent;setDeptos(res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getDeptos(){return _ref.apply(this,arguments);};}();// const getDispNo = async () =>{\n//     const res = await axios.get('http://localhost:4000/API/departamento');\n//     setDeptos(res.data);\n// }\nuseEffect(function(){getDeptos();console.log('Inmediate clg: ',{deptos:deptos});// this.setState({\n//     deptos: res.data\n// })\n},[]);function handleReserva(id_d){// definir variable de sesión\nsessionStorage.id_d=id_d;sessionStorage.Pagar=false;history.push(\"/Reservar\");// {params: id_d}\n// id_d (id del depto)\n}console.log('Listar Deptos');console.log({deptos:deptos});console.log('End Lista Deptos');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"listar-deptos\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Listado de departamentos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:deptos.map(function(e){return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",id:\"row-lista-depto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6 col-sm-12\",children:/*#__PURE__*/_jsx(\"img\",{src:building,alt:\"Imagen Referencial\",className:\"img-lista-depto\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-6 col-sm-12\",children:[/*#__PURE__*/_jsx(\"h2\",{children:e.nom_rgn}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Ubicado en la comuna de: \",e.nom_com]}),/*#__PURE__*/_jsx(\"p\",{children:e.dir_dpto}),/*#__PURE__*/_jsx(\"p\",{children:e.depto}),/*#__PURE__*/_jsx(\"p\",{children:e.desc_dpto}),/*#__PURE__*/_jsxs(\"p\",{children:[\"N\\xFAmero de ambientes: \",e.n_amb_dpto,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Costo de Arriendo por noche $\",e.costo_arri_dpto,\" CLP\"]})]}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){handleReserva(e.id_dpto);},children:\"Reservar Departamento\"})]});})})]})]});}","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/src/components/Views/Departamento/ListarDepto.jsx"],"names":["React","Component","useEffect","useState","axios","useHistory","Reservar","building","Navbar","Button","DatePicker","ListarDepto","deptos","setDeptos","history","getDeptos","get","res","data","console","log","handleReserva","id_d","sessionStorage","Pagar","push","map","e","nom_rgn","nom_com","dir_dpto","depto","desc_dpto","n_amb_dpto","costo_arri_dpto","id_dpto"],"mappings":"ogBAAA,MAAOA,CAAAA,KAAP,EAAiBC,SAAjB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mCAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,MAAT,KAAuB,iBAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA;wFACA,0BAAM,GAAG,CAAC,UAAV,CAAqB,IAAI,CAAC,4BAA1B,GAEA,cAAe,SAASC,CAAAA,WAAT,EAAsB,eAELR,QAAQ,CAAC,EAAD,CAFH,wCAE1BS,MAF0B,eAElBC,SAFkB,eAGjC;AACA,GAAMC,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CAGA,GAAMU,CAAAA,SAAS,0FAAG,iKACIX,CAAAA,KAAK,CAACY,GAAN,CAAU,wCAAV,CADJ,QACRC,GADQ,eAEdJ,SAAS,CAACI,GAAG,CAACC,IAAL,CAAT,CAFc,sDAAH,kBAATH,CAAAA,SAAS,0CAAf,CAIA;AACA;AACA;AACA;AAEAb,SAAS,CAAC,UAAI,CACVa,SAAS,GACTI,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA8B,CAACR,MAAM,CAANA,MAAD,CAA9B,EACA;AACA;AACA;AACH,CANQ,CAMP,EANO,CAAT,CAQA,QAASS,CAAAA,aAAT,CAAuBC,IAAvB,CAA6B,CACzB;AACAC,cAAc,CAACD,IAAf,CAAsBA,IAAtB,CACAC,cAAc,CAACC,KAAf,CAAuB,KAAvB,CACAV,OAAO,CAACW,IAAR,CAAa,WAAb,EACA;AACA;AACH,CAEDN,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAD,OAAO,CAACC,GAAR,CAAY,CAACR,MAAM,CAANA,MAAD,CAAZ,EACAO,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAEI,mBACI,oCACI,KAAC,MAAD,IADJ,cAEI,aAAK,EAAE,CAAC,eAAR,wBACI,gDADJ,cAEI,YAAK,SAAS,CAAC,WAAf,UAEQR,MAAM,CAACc,GAAP,CAAW,SAAAC,CAAC,qBACR,aAAK,SAAS,CAAC,KAAf,CAAqB,EAAE,CAAC,iBAAxB,wBACI,YAAK,SAAS,CAAC,6BAAf,uBACI,YAAK,GAAG,CAAEpB,QAAV,CAAoB,GAAG,CAAC,oBAAxB,CAA6C,SAAS,CAAC,iBAAvD,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,6BAAf,wBACI,oBAAKoB,CAAC,CAACC,OAAP,EADJ,cAEI,kDAA8BD,CAAC,CAACE,OAAhC,GAFJ,cAGI,mBAAIF,CAAC,CAACG,QAAN,EAHJ,cAMI,mBAAIH,CAAC,CAACI,KAAN,EANJ,cAOI,mBAAIJ,CAAC,CAACK,SAAN,EAPJ,cAQI,gDAAyBL,CAAC,CAACM,UAA3B,OARJ,cASI,qDAAiCN,CAAC,CAACO,eAAnC,UATJ,GAJJ,cAeI,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAM,CAACb,aAAa,CAACM,CAAC,CAACQ,OAAH,CAAb,CAAyB,CAAjD,mCAfJ,GADQ,EAAZ,CAFR,EAFJ,GAFJ,GADJ,CAsCP","sourcesContent":["import React, {  Component, useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport {useHistory} from 'react-router-dom';\r\nimport '../../../assetss/css/ListaDeptos.css';\r\nimport Reservar from '../Reservas/Reserva';\r\nimport building from '../../../assetss/img/building.png'\r\nimport Navbar from '../../Layouts/Navbar.jsx'\r\nimport { Button } from 'react-bootstrap';\r\nimport DatePicker from '../../Layouts/Date-Picker';\r\n///import PWA\r\n<link rel=\"manifest\" href=\"../../public/manifest.json\"></link>\r\n\r\nexport default function ListarDepto(){\r\n  \r\n    const [deptos, setDeptos] = useState([]);\r\n    // const [dispNo, setDispNo] = useState([]);\r\n    const history = useHistory();\r\n\r\n \r\n    const getDeptos = async () =>{\r\n        const res = await axios.get('http://localhost:4000/API/departamento');\r\n        setDeptos(res.data);\r\n    }\r\n    // const getDispNo = async () =>{\r\n    //     const res = await axios.get('http://localhost:4000/API/departamento');\r\n    //     setDeptos(res.data);\r\n    // }\r\n\r\n    useEffect(()=>{\r\n        getDeptos();\r\n        console.log('Inmediate clg: ',{deptos})\r\n        // this.setState({\r\n        //     deptos: res.data\r\n        // })\r\n    },[]);\r\n\r\n    function handleReserva(id_d ){\r\n        // definir variable de sesión\r\n        sessionStorage.id_d = id_d;\r\n        sessionStorage.Pagar = false;\r\n        history.push(\"/Reservar\" );\r\n        // {params: id_d}\r\n        // id_d (id del depto)\r\n    }\r\n\r\n    console.log('Listar Deptos');\r\n    console.log({deptos});\r\n    console.log('End Lista Deptos');\r\n\r\n        return (\r\n            <div>\r\n                <Navbar/>\r\n                <div id=\"listar-deptos\">\r\n                    <h1>Listado de departamentos</h1>\r\n                    <div className=\"container\">\r\n                        {\r\n                            deptos.map(e =>(\r\n                                <div className=\"row\" id=\"row-lista-depto\">\r\n                                    <div className=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                        <img src={building} alt=\"Imagen Referencial\" className=\"img-lista-depto\" ></img>\r\n                                    </div>\r\n                                    <div className=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                        <h2>{e.nom_rgn}</h2>\r\n                                        <h5>Ubicado en la comuna de: {e.nom_com}</h5>\r\n                                        <p>{e.dir_dpto}</p>\r\n                                        {/* <p>Condominio {e.nom_cnd}</p> */}\r\n                                        {/* {e.nom_cnd} */}\r\n                                        <p>{e.depto}</p>\r\n                                        <p>{e.desc_dpto}</p>\r\n                                        <p>Número de ambientes: {e.n_amb_dpto} </p>\r\n                                        <p>Costo de Arriendo por noche ${e.costo_arri_dpto} CLP</p>\r\n                                    </div>\r\n                                    <Button onClick={() => {handleReserva(e.id_dpto)}}>\r\n                                        Reservar Departamento\r\n                                    </Button>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                    {/* <Reserva\r\n                        id_rva= {1}\r\n                    /> */}\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}