{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Form}from\"react-bootstrap\";import'../assetss/css/Login.css';import'react-toastify/dist/ReactToastify.css';import{toast}from'react-toastify';import axios from\"axios\";///import PWA\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";/*#__PURE__*/_jsx(\"link\",{rel:\"manifest\",href:\"/manifest.json\"});/////Notificaciones pop\nvar notifyE=function notifyE(){toast.error('Correo y/o contraseña inválidos, asegúrese que las credenciales son correctas');};var notifyESuspendida=function notifyESuspendida(){toast.error('Su cuenta se encuentra suspendidad o aún no se sido activada, comuníquese con nosotros a través de los medios proporcionados al pie de la página');};var notifyS=function notifyS(){toast.success('Inicio de sesión existoso, Bienvenido(a) Turismo Real');};var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={form:{email_usr:\"\",contr_usr:\"\"},error:false,errorMsg:\"\"};_this.manejadorChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({form:_objectSpread(_objectSpread({},_this.state.form),{},_defineProperty({},e.target.name,e.target.value))});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.RedirigirRegistrar=function(){_this.props.history.push(\"/UsuarioNew\");};_this.manejadorBoton=function(){axios.post(\"http://localhost:4000/API/usuarioAutenticar\",_this.state.form).then(function(response){if(response.data==\"\"){notifyE();}else{if(response.data[0].est_cta==\"suspendida\"){notifyESuspendida();}else{if(response.data[0].id_tipo_usr==\"1\"){notifyS();console.log(\"Admin\");_this.props.history.push(\"/InicioAdmin\");}else if(response.data[0].id_tipo_usr==\"2\"){notifyS();console.log(\"Funcionario\");_this.props.history.push(\"/Home\");}else if(response.data[0].id_tipo_usr==\"3\"){notifyS();//setear y almacenar datos en el session storage\nsessionStorage.correo=response.data[0].email_usr;sessionStorage.idUsuario=response.data[0].id_usr;var email=sessionStorage.correo;console.log('El correo es'+email);_this.props.history.push(\"/Home\");}}}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){toast.configure({});function manejadorSubmit(e){e.preventDesafult();notifyS();}return/*#__PURE__*/_jsxs(\"div\",{id:\"login-body\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",id:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"title-login\",children:\"Acceder a tu cuenta\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:manejadorSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Ingresa tu email\",name:\"email_usr\",onChange:this.manejadorChange})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formGroupPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Ingresa tu contrase\\xF1a\",name:\"contr_usr\",onChange:this.manejadorChange})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary mb-3 mt-5 col-12\",onClick:this.manejadorBoton,children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-secondary mb-5 col-12\",onClick:this.RedirigirRegistrar,children:\"Registrarse\"})]})}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"sources":["C:/Users/jesus/Documents/GitHub/Turismo-Real/Front/Pwa/src/components/Login.jsx"],"names":["React","Form","toast","axios","notifyE","error","notifyESuspendida","notifyS","success","Login","state","form","email_usr","contr_usr","errorMsg","manejadorChange","e","setState","target","name","value","RedirigirRegistrar","props","history","push","manejadorBoton","post","then","response","data","est_cta","id_tipo_usr","console","log","sessionStorage","correo","idUsuario","id_usr","email","configure","manejadorSubmit","preventDesafult","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport '../assetss/css/Login.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {toast} from 'react-toastify';\r\nimport axios from \"axios\";\r\n///import PWA\r\n<link rel=\"manifest\" href=\"/manifest.json\"></link>\r\n\r\n/////Notificaciones pop\r\n\r\nconst notifyE = () =>{\r\n    toast.error('Correo y/o contraseña inválidos, asegúrese que las credenciales son correctas');\r\n};\r\n\r\nconst notifyESuspendida = () =>{\r\n    toast.error('Su cuenta se encuentra suspendidad o aún no se sido activada, comuníquese con nosotros a través de los medios proporcionados al pie de la página');\r\n};\r\n\r\nconst notifyS = () =>{\r\n    toast.success('Inicio de sesión existoso, Bienvenido(a) Turismo Real');\r\n};\r\n\r\n\r\nclass Login extends React.Component{\r\n\r\n    state = {\r\n        form:{\r\n            email_usr:\"\",\r\n            contr_usr:\"\"\r\n        },\r\n        error:false,\r\n        errorMsg:\"\"\r\n    }\r\n\r\n    manejadorChange = async e =>{\r\n        await this.setState({\r\n            form:{\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    RedirigirRegistrar = () =>{\r\n        this.props.history.push(\"/UsuarioNew\");\r\n    }\r\n\r\n    manejadorBoton = () =>{\r\n        axios.post(\"http://localhost:4000/API/usuarioAutenticar\", this.state.form)\r\n        .then(response =>{\r\n            if(response.data == \"\")\r\n            {\r\n                notifyE();\r\n            }\r\n            else\r\n            {\r\n                if(response.data[0].est_cta == \"suspendida\")\r\n                {\r\n                    notifyESuspendida();\r\n                }\r\n                else\r\n                {\r\n                    if(response.data[0].id_tipo_usr == \"1\")\r\n                    {\r\n                        notifyS();\r\n                        console.log(\"Admin\");\r\n                        this.props.history.push(\"/InicioAdmin\");\r\n                    }\r\n                    else if(response.data[0].id_tipo_usr ==\"2\")\r\n                    {\r\n                        notifyS();\r\n                        console.log(\"Funcionario\");\r\n                        this.props.history.push(\"/Home\");\r\n                    }\r\n                    else if(response.data[0].id_tipo_usr ==\"3\")\r\n                    {\r\n                        notifyS();\r\n                        //setear y almacenar datos en el session storage\r\n                        sessionStorage.correo = response.data[0].email_usr;\r\n                        sessionStorage.idUsuario = response.data[0].id_usr;\r\n                        let email = sessionStorage.correo;\r\n                        console.log('El correo es' + email);\r\n                        this.props.history.push(\"/Home\");\r\n        \r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n            \r\n\r\n\r\n        });\r\n    };\r\n\r\n    render(){\r\n        \r\n        toast.configure({\r\n        });\r\n        \r\n\r\n        function manejadorSubmit(e){\r\n            e.preventDesafult();\r\n            notifyS();\r\n        }\r\n\r\n\r\n        return(\r\n                <div id=\"login-body\">\r\n                    <br/>\r\n                    <div className=\"container\" id=\"login-container\">\r\n                        <div id=\"login\">\r\n                            <h1 id=\"title-login\">Acceder a tu cuenta</h1>\r\n                            <Form onSubmit={manejadorSubmit}>\r\n                                <Form.Group className=\"mb-3\" controlId=\"formGroupEmail\">\r\n                                    <Form.Label>Correo electrónico</Form.Label>\r\n                                    <Form.Control type=\"email\" placeholder=\"Ingresa tu email\" \r\n                                    name=\"email_usr\"\r\n                                    onChange={this.manejadorChange}\r\n                                    />\r\n                                </Form.Group>\r\n                                <Form.Group className=\"mb-3\" controlId=\"formGroupPassword\">\r\n                                    <Form.Label>Contraseña</Form.Label>\r\n                                    <Form.Control type=\"password\" placeholder=\"Ingresa tu contraseña\" \r\n                                    name=\"contr_usr\"\r\n                                    onChange={this.manejadorChange}\r\n                                    />\r\n                                </Form.Group>\r\n                            </Form>\r\n                            <button type=\"submit\" class=\"btn btn-primary mb-3 mt-5 col-12\" onClick={this.manejadorBoton}>Iniciar sesión</button>\r\n                            <button type=\"button\" class=\"btn btn-secondary mb-5 col-12\" onClick={this.RedirigirRegistrar}>Registrarse</button>\r\n                        </div>                               \r\n                    </div>\r\n                    <br/>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}